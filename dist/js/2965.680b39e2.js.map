{"version":3,"file":"js/2965.680b39e2.js","mappings":"4MA6DIA,MAAM,W,4HAHOC,EAAAA,YAAmB,U,WAAlC,QAAsC,c,WACtC,QAiCM,MAjCN,EAiCM,EA7BJ,QAGE,GAFCC,MAAOC,EAAAA,EAAE,8BACVC,IAAI,mD,uDAEN,QAAsB,OAAjBJ,MAAM,UAAQ,U,wBACR,EAAoB,uB,WAA/B,QAWM,UAVJ,QAAiD,mBAA1CG,EAAAA,EAAE,kCAAD,G,yBACR,QAQE,GAPAH,MAAM,iBACLK,QAAS,EAAAC,wBACTC,KAAM,EAAAC,aACN,eAAa,EACbC,QAAQ,EACR,iBAAe,EAChB,YAAU,M,uEAGd,QAEK,MAFAT,OAAK,iBAAa,EAAAU,yB,QAClBP,EAAAA,EAAE,oCAAD,G,yBAEN,QAQE,GAPAH,MAAM,iBACLK,QAAS,EAAAM,0BACTJ,KAAM,EAAAK,MACN,eAAa,EACbH,QAAQ,EACR,iBAAe,EAChB,YAAU,M,oGAhFhB,SACEI,WAAY,CACVC,aAAY,IAAEC,cAAa,IAAEC,QAAO,KAEtC,WAAMC,GACJ,MAAMC,EAAmBC,IACvB,MAAMC,EAAYC,KAAKC,OAAOC,QAAQ,qBAAqBJ,GAE3D,OAAOC,EAAYC,KAAKC,OAAOE,SAAS,kBAAmB,CAAEL,SAAUM,QAAQC,QAAQ,KAGnFC,QAAa,QAAQ,CACzBnB,aAAgBU,EAAgB,KAAQU,cACxChB,MAAgBM,EAAgB,KAAQW,MACxCC,eAAgBZ,EAAgB,KAAQa,gBACxCC,QAAgBd,EAAgB,KAAQe,UAG1CZ,KAAKb,aAAemB,EAAKnB,cAAgB,GACzCa,KAAKT,MAAQe,EAAKf,OAAS,EAC7B,EAEA,IAAAsB,GACE,MAAO,CACL1B,aAA2B,GAC3BI,MAA2B,GAC3BD,0BAA2B,CACzB,KACA,KACA,KACA,KACA,MAEFL,wBAAyB,CACvB,KAAU,KAAgB,MAGhC,EAEA6B,SAAU,CACR,oBAAAzB,GACE,OAAOW,KAAKC,OAAOC,QAAQ,qBAAqB,KAAQK,aAC1D,I,eC/CJ,MAAMQ,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,G,sECSOrC,MAAM,iB,qDAAX,QAOM,MAPN,EAOM,EANJ,QAAyC,mBAAlCG,EAAAA,EAAE,0BAAD,I,QAAiC,KACzC,QAAGA,EAAAA,EAAE,2BAA4B,IAAC,YAIlB,KAHbmC,KAAM,EAAAlC,IACPmC,IAAI,+BACJC,OAAO,W,QACL,EAAAtC,OAAK,M,CArBb,SACEuC,MAAO,CACLvC,MAAO,CACLiB,KAAUuB,OACVC,UAAU,GAEZvC,IAAK,CACHe,KAAUuB,OACVC,UAAU,K,eCJhB,MAAMP,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,G","sources":["webpack://cluster-log-extension/./node_modules/@rancher/shell/pages/c/_cluster/logging/index.vue","webpack://cluster-log-extension/./node_modules/@rancher/shell/pages/c/_cluster/logging/index.vue?2ed6","webpack://cluster-log-extension/./node_modules/@rancher/shell/components/ChartHeading.vue","webpack://cluster-log-extension/./node_modules/@rancher/shell/components/ChartHeading.vue?a183"],"sourcesContent":["<script>\nimport { LOGGING } from '@shell/config/types';\nimport SortableTable from '@shell/components/SortableTable';\nimport { allHash } from '@shell/utils/promise';\nimport {\n  CONFIGURED_PROVIDERS, CLUSTER_OUTPUT, OUTPUT, NAMESPACE, NAME as NAME_COL\n} from '@shell/config/table-headers';\nimport ChartHeading from '@shell/components/ChartHeading';\nimport Loading from '@shell/components/Loading';\n\nexport default {\n  components: {\n    ChartHeading, SortableTable, Loading\n  },\n  async fetch() {\n    const getAllOrDefault = (type) => {\n      const hasAccess = this.$store.getters[`cluster/schemaFor`](type);\n\n      return hasAccess ? this.$store.dispatch('cluster/findAll', { type }) : Promise.resolve([]);\n    };\n\n    const hash = await allHash({\n      clusterFlows:   getAllOrDefault(LOGGING.CLUSTER_FLOW),\n      flows:          getAllOrDefault(LOGGING.FLOW),\n      clusterOutputs: getAllOrDefault(LOGGING.CLUSTER_OUTPUT),\n      outputs:        getAllOrDefault(LOGGING.OUTPUT),\n    });\n\n    this.clusterFlows = hash.clusterFlows || [];\n    this.flows = hash.flows || [];\n  },\n\n  data() {\n    return {\n      clusterFlows:              [],\n      flows:                     [],\n      namespaceFlowTableHeaders: [\n        NAMESPACE,\n        NAME_COL,\n        OUTPUT,\n        CLUSTER_OUTPUT,\n        CONFIGURED_PROVIDERS\n      ],\n      clusterFlowTableHeaders: [\n        NAME_COL, CLUSTER_OUTPUT, CONFIGURED_PROVIDERS\n      ]\n    };\n  },\n\n  computed: {\n    hasClusterFlowAccess() {\n      return this.$store.getters[`cluster/schemaFor`](LOGGING.CLUSTER_FLOW);\n    }\n  },\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div\n    v-else\n    class=\"logging\"\n  >\n    <ChartHeading\n      :label=\"t('logging.overview.poweredBy')\"\n      url=\"https://github.com/banzaicloud/logging-operator\"\n    />\n    <div class=\"spacer\" />\n    <div v-if=\"hasClusterFlowAccess\">\n      <h2>{{ t('logging.overview.clusterLevel') }}</h2>\n      <SortableTable\n        class=\"sortable-table\"\n        :headers=\"clusterFlowTableHeaders\"\n        :rows=\"clusterFlows\"\n        :row-actions=\"false\"\n        :search=\"false\"\n        :table-actions=\"false\"\n        key-field=\"id\"\n      />\n    </div>\n    <h2 :class=\"{ 'mt-20': hasClusterFlowAccess }\">\n      {{ t('logging.overview.namespaceLevel') }}\n    </h2>\n    <SortableTable\n      class=\"sortable-table\"\n      :headers=\"namespaceFlowTableHeaders\"\n      :rows=\"flows\"\n      :row-actions=\"false\"\n      :search=\"false\"\n      :table-actions=\"false\"\n      key-field=\"id\"\n    />\n  </div>\n</template>\n","import { render } from \"./index.vue?vue&type=template&id=1b95aa55\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../../vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\nexport default {\n  props: {\n    label: {\n      type:     String,\n      required: true\n    },\n    url: {\n      type:     String,\n      required: true\n    }\n  }\n};\n</script>\n\n<template>\n  <div class=\"chart-heading\">\n    <h1>{{ t('chartHeading.overview') }}</h1>\n    {{ t('chartHeading.poweredBy') }} <a\n      :href=\"url\"\n      rel=\"nofollow noopener noreferrer\"\n      target=\"_blank\"\n    >{{ label }}</a>\n  </div>\n</template>\n","import { render } from \"./ChartHeading.vue?vue&type=template&id=00701329\"\nimport script from \"./ChartHeading.vue?vue&type=script&lang=js\"\nexport * from \"./ChartHeading.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","$fetchState","label","t","url","headers","clusterFlowTableHeaders","rows","clusterFlows","search","hasClusterFlowAccess","namespaceFlowTableHeaders","flows","components","ChartHeading","SortableTable","Loading","fetch","getAllOrDefault","type","hasAccess","this","$store","getters","dispatch","Promise","resolve","hash","CLUSTER_FLOW","FLOW","clusterOutputs","CLUSTER_OUTPUT","outputs","OUTPUT","data","computed","__exports__","render","href","rel","target","props","String","required"],"ignoreList":[],"sourceRoot":""}