"use strict";(self["webpackChunkcluster_log_extension"]=self["webpackChunkcluster_log_extension"]||[]).push([[340],{20340:(e,t,s)=>{s.r(t),s.d(t,{default:()=>f});var a=s(20641),r=s(90033);const n={key:0},o={key:1};function i(e,t,s,i,p,c){const l=(0,a.g2)("router-link"),m=(0,a.g2)("Masthead"),d=(0,a.g2)("FleetApplications"),u=(0,a.g2)("FleetNoWorkspaces");return p.hasWorkspaces?((0,a.uX)(),(0,a.CE)("div",n,[(0,a.bF)(m,{schema:p.schema,resource:p.schema.id,"type-display":e.t("fleet.application.pageTitle")},{createButton:(0,a.k6)(()=>[(0,a.bF)(l,{to:p.createLocation,class:"btn role-primary"},{default:(0,a.k6)(()=>[(0,a.eW)((0,r.v_)(e.t("fleet.application.actions.create")),1)]),_:1},8,["to"])]),_:1},8,["schema","resource","type-display"]),t[0]||(t[0]=(0,a.eW)()),(0,a.bF)(d,{rows:c.rows,schema:p.schema,loading:e.$fetchState.pending,"use-query-params-for-simple-filtering":s.useQueryParamsForSimpleFiltering,"force-update-live-and-delayed":p.forceUpdateLiveAndDelayed},null,8,["rows","schema","loading","use-query-params-for-simple-filtering","force-update-live-and-delayed"])])):((0,a.uX)(),(0,a.CE)("div",o,[(0,a.bF)(u,{"can-view":p.permissions.workspaces},null,8,["can-view"])]))}var p=s(55823),c=s(14586),l=s(43746),m=s(31859),d=s(79677);const u={id:p.Hs.APPLICATION,type:p.yx},y={name:"ListApplications",components:{Masthead:l.A,FleetNoWorkspaces:m.A,FleetApplications:d.A},props:{loadIndeterminate:{type:Boolean,default:!1},incrementalLoadingIndicator:{type:Boolean,default:!1},useQueryParamsForSimpleFiltering:{type:Boolean,default:!1}},async fetch(){try{const e=await(0,c.eT)({cluster:{inStoreType:"management",type:p.Hs.CLUSTER},clusterGroups:{inStoreType:"management",type:p.Hs.CLUSTER_GROUP},gitRepos:{inStoreType:"management",type:p.Hs.GIT_REPO},helmOps:{inStoreType:"management",type:p.Hs.HELM_OP},workspaces:{inStoreType:"management",type:p.Hs.WORKSPACE}},this.$store);this.hasWorkspaces=(e.workspaces||[]).length>0}catch(e){}try{const e=await(0,c.RS)({workspaces:{type:p.Hs.WORKSPACE},gitRepos:{type:p.Hs.GIT_REPO},helmOps:{type:p.Hs.HELM_OP}},this.$store.getters);this.permissions=e}catch(e){}},data(){return{schema:u,hasWorkspaces:!1,permissions:{},createLocation:{name:"c-cluster-fleet-application-create"},forceUpdateLiveAndDelayed:10}},computed:{rows(){return[...this.$store.getters["management/all"](p.Hs.GIT_REPO),...this.$store.getters["management/all"](p.Hs.HELM_OP)]}},methods:{}};var h=s(66262);const g=(0,h.A)(y,[["render",i]]),f=g}}]);
//# sourceMappingURL=340.2c1ce827.js.map