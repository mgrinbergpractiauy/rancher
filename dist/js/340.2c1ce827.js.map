{"version":3,"file":"js/340.2c1ce827.js","mappings":"4WAgHa,EAAa,gB,WAAxB,QAsBM,UArBJ,QAaW,GAZRA,OAAQ,EAAAA,OACRC,SAAU,EAAAD,OAAOE,GACjB,eAAcC,EAAAA,EAAE,gC,CAENC,cAAY,QACrB,IAKc,EALd,QAKc,GAJXC,GAAI,EAAAC,eACLC,MAAM,oB,kBAEN,IAA2C,E,iBAAxCJ,EAAAA,EAAE,qCAAD,K,uFAIV,QAME,GALCK,KAAM,EAAAA,KACNR,OAAQ,EAAAA,OACRS,QAASC,EAAAA,YAAYC,QACrB,wCAAuC,EAAAC,iCACvC,gCAA+B,EAAAC,2B,4HAGpC,QAEM,UADJ,QAAwD,GAApC,WAAU,EAAAC,YAAYC,Y,mFAjI9C,MAAMf,EAAS,CACbE,GAAM,KAAMc,YACZC,KAAM,MAGR,GACEC,KAAY,mBACZC,WAAY,CACVC,SAAQ,IACRC,kBAAiB,IACjBC,kBAAiB,KAGnBC,MAAO,CACLC,kBAAmB,CACjBP,KAASQ,QACTC,SAAS,GAGXC,4BAA6B,CAC3BV,KAASQ,QACTC,SAAS,GAGXd,iCAAkC,CAChCK,KAASQ,QACTC,SAAS,IAIb,WAAME,GACJ,IACE,MAAMC,QAAa,QAA2B,CAC5CC,QAAS,CACPC,YAAa,aACbd,KAAa,KAAMe,SAGrBC,cAAe,CACbF,YAAa,aACbd,KAAa,KAAMiB,eAGrBC,SAAU,CACRJ,YAAa,aACbd,KAAa,KAAMmB,UAGrBC,QAAS,CACPN,YAAa,aACbd,KAAa,KAAMqB,SAGrBvB,WAAY,CACVgB,YAAa,aACbd,KAAa,KAAMsB,YAGpBC,KAAKC,QAERD,KAAKE,eAAiBb,EAAKd,YAAc,IAAI4B,OAAS,CACxD,CAAE,MAAOC,GACT,CAEA,IACE,MAAM9B,QAAoB,QACxB,CACEC,WAAY,CAAEE,KAAM,KAAMsB,WAC1BJ,SAAY,CAAElB,KAAM,KAAMmB,UAC1BC,QAAY,CAAEpB,KAAM,KAAMqB,UAE5BE,KAAKC,OAAOI,SAGdL,KAAK1B,YAAcA,CACrB,CAAE,MAAO8B,GACT,CACF,EAEA,IAAAE,GAGE,MAAO,CACL9C,SACA0C,eAA2B,EAC3B5B,YAA2B,CAAC,EAC5BR,eAA2B,CAAEY,KAAM,sCACnCL,0BAA2B,GAE/B,EAEAkC,SAAU,CACR,IAAAvC,GACE,MAAO,IACFgC,KAAKC,OAAOI,QAAQ,kBAAkB,KAAMT,aAC5CI,KAAKC,OAAOI,QAAQ,kBAAkB,KAAMP,SAEnD,GAGFU,QAAS,CAAC,G,eCtGZ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,G","sources":["webpack://cluster-log-extension/./node_modules/@rancher/shell/pages/c/_cluster/fleet/application/index.vue","webpack://cluster-log-extension/./node_modules/@rancher/shell/pages/c/_cluster/fleet/application/index.vue?c40c"],"sourcesContent":["<script>\nimport { SCHEMA, FLEET } from '@shell/config/types';\nimport { checkPermissions, checkSchemasForFindAllHash } from '@shell/utils/auth';\nimport Masthead from '@shell/components/ResourceList/Masthead';\nimport FleetNoWorkspaces from '@shell/components/fleet/FleetNoWorkspaces.vue';\nimport FleetApplications from '@shell/components/fleet/FleetApplications';\n\nconst schema = {\n  id:   FLEET.APPLICATION,\n  type: SCHEMA,\n};\n\nexport default {\n  name:       'ListApplications',\n  components: {\n    Masthead,\n    FleetNoWorkspaces,\n    FleetApplications,\n  },\n\n  props: {\n    loadIndeterminate: {\n      type:    Boolean,\n      default: false\n    },\n\n    incrementalLoadingIndicator: {\n      type:    Boolean,\n      default: false\n    },\n\n    useQueryParamsForSimpleFiltering: {\n      type:    Boolean,\n      default: false\n    }\n  },\n\n  async fetch() {\n    try {\n      const hash = await checkSchemasForFindAllHash({\n        cluster: {\n          inStoreType: 'management',\n          type:        FLEET.CLUSTER\n        },\n\n        clusterGroups: {\n          inStoreType: 'management',\n          type:        FLEET.CLUSTER_GROUP\n        },\n\n        gitRepos: {\n          inStoreType: 'management',\n          type:        FLEET.GIT_REPO\n        },\n\n        helmOps: {\n          inStoreType: 'management',\n          type:        FLEET.HELM_OP\n        },\n\n        workspaces: {\n          inStoreType: 'management',\n          type:        FLEET.WORKSPACE\n        },\n\n      }, this.$store);\n\n      this.hasWorkspaces = (hash.workspaces || []).length > 0;\n    } catch (e) {\n    }\n\n    try {\n      const permissions = await checkPermissions(\n        {\n          workspaces: { type: FLEET.WORKSPACE },\n          gitRepos:   { type: FLEET.GIT_REPO },\n          helmOps:    { type: FLEET.HELM_OP }\n        },\n        this.$store.getters\n      );\n\n      this.permissions = permissions;\n    } catch (e) {\n    }\n  },\n\n  data() {\n    // TODO show warning if 1 of the {gitrepo, helmOps} has no permission\n\n    return {\n      schema,\n      hasWorkspaces:             false,\n      permissions:               {},\n      createLocation:            { name: 'c-cluster-fleet-application-create' },\n      forceUpdateLiveAndDelayed: 10\n    };\n  },\n\n  computed: {\n    rows() {\n      return [\n        ...this.$store.getters[`management/all`](FLEET.GIT_REPO),\n        ...this.$store.getters[`management/all`](FLEET.HELM_OP)\n      ];\n    },\n  },\n\n  methods: {}\n};\n</script>\n\n<template>\n  <div v-if=\"hasWorkspaces\">\n    <Masthead\n      :schema=\"schema\"\n      :resource=\"schema.id\"\n      :type-display=\"t('fleet.application.pageTitle')\"\n    >\n      <template #createButton>\n        <router-link\n          :to=\"createLocation\"\n          class=\"btn role-primary\"\n        >\n          {{ t('fleet.application.actions.create') }}\n        </router-link>\n      </template>\n    </Masthead>\n    <FleetApplications\n      :rows=\"rows\"\n      :schema=\"schema\"\n      :loading=\"$fetchState.pending\"\n      :use-query-params-for-simple-filtering=\"useQueryParamsForSimpleFiltering\"\n      :force-update-live-and-delayed=\"forceUpdateLiveAndDelayed\"\n    />\n  </div>\n  <div v-else>\n    <FleetNoWorkspaces :can-view=\"permissions.workspaces\" />\n  </div>\n</template>\n","import { render } from \"./index.vue?vue&type=template&id=5d710bc6\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../../../vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["schema","resource","id","t","createButton","to","createLocation","class","rows","loading","$fetchState","pending","useQueryParamsForSimpleFiltering","forceUpdateLiveAndDelayed","permissions","workspaces","APPLICATION","type","name","components","Masthead","FleetNoWorkspaces","FleetApplications","props","loadIndeterminate","Boolean","default","incrementalLoadingIndicator","fetch","hash","cluster","inStoreType","CLUSTER","clusterGroups","CLUSTER_GROUP","gitRepos","GIT_REPO","helmOps","HELM_OP","WORKSPACE","this","$store","hasWorkspaces","length","e","getters","data","computed","methods","__exports__","render"],"ignoreList":[],"sourceRoot":""}