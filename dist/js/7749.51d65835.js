(self["webpackChunkcluster_log_extension"]=self["webpackChunkcluster_log_extension"]||[]).push([[7749],{6669:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var s=a(20641),l=a(90033);const r={key:1,class:"cluster-local-logo",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 100",style:{"enable-background":"new 0 0 100 100"},"xml:space":"preserve"},n=["src","alt"];function o(e,t,a,o,i,c){return a.cluster?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,l.C4)(["cluster-icon",{"cluster-icon-small":a.small}])},[c.useForIcon?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,l.C4)(["cluster-badge-logo",{"cluster-icon-border":c.showBorders}]),style:(0,l.Tr)({backgroundColor:a.cluster.badge.color,color:a.cluster.badge.textColor})},(0,l.v_)(a.cluster.badge.iconText),7)):a.cluster.isLocal&&!a.cluster.isHarvester?((0,s.uX)(),(0,s.CE)("svg",r,[(0,s.Lk)("title",null,(0,l.v_)(e.t("nav.ariaLabel.clusterProvIcon",{cluster:"local"})),1),t[0]||(t[0]=(0,s.eW)()),t[1]||(t[1]=(0,s.Lk)("g",null,[(0,s.Lk)("g",null,[(0,s.Lk)("path",{class:"rancher-icon-fill",d:"M26.0862026,44.4953918H8.6165142c-5.5818157,0-9.3979139-4.6252708-8.4802637-10.1311035l2.858391-17.210701\n            C3.912292,11.6477556,6.1382647,7.1128125,7.8419709,7.1128125s3.1788611,4.5368752,3.1788611,10.1186218v4.4837742\n            c0,5.5817471,4.4044495,9.5409164,9.9862652,9.5409164h5.0791054V44.4953918z"})]),(0,s.eW)(),(0,s.Lk)("path",{class:"rancher-icon-fill",d:"M63.0214729,92.8871841H37.0862045c-6.0751343,0-11.0000019-4.9248657-11.0000019-11V30.3864384\n          c0-6.0751324,4.9248676-11,11.0000019-11h25.9352684c6.0751305,0,11.0000038,4.9248676,11.0000038,11v51.5007477\n          C74.0214767,87.9623184,69.0966034,92.8871841,63.0214729,92.8871841z"}),(0,s.eW)(),(0,s.Lk)("g",null,[(0,s.Lk)("path",{class:"rancher-icon-fill",d:"M73.9137955,44.4953918h17.4696884c5.5818176,0,9.3979187-4.6252708,8.4802628-10.1311035\n            l-2.8583908-17.210701c-0.9176483-5.5058317-3.1436234-10.0407753-4.8473282-10.0407753\n            s-3.1788635,4.5368752-3.1788635,10.1186218v4.4837742c0,5.5817471-4.4044418,9.5409164-9.9862595,9.5409164h-5.0791092\n            V44.4953918z"})])],-1))])):a.cluster.providerNavLogo?((0,s.uX)(),(0,s.CE)("img",{key:2,class:"cluster-os-logo",src:a.cluster.providerNavLogo,alt:e.t("nav.ariaLabel.clusterProvIcon",{cluster:a.cluster.nameDisplay})},null,8,n)):(0,s.Q3)("",!0)],2)):(0,s.Q3)("",!0)}const i={props:{cluster:{type:Object,required:!0},small:{type:Boolean,default:!1}},computed:{useForIcon(){return!!this.cluster?.badge?.iconText},showBorders(){return"transparent"===this.cluster?.badge?.color}}};a(92081);var c=a(66262);const u=(0,c.A)(i,[["render",o],["__scopeId","data-v-2f22b424"]]),d=u},16857:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var s=a(31601),l=a.n(s),r=a(76314),n=a.n(r),o=a(5111),i=n()(l());i.i(o.A),i.push([e.id,".single-cluster-header[data-v-1c72f60a]{align-items:center;display:flex}.single-cluster-header .rancher-icon[data-v-1c72f60a]{margin-right:10px}.single-cluster-header h1[data-v-1c72f60a]{font-size:20px;margin:0}.single-cluster-info[data-v-1c72f60a]{margin-top:20px}.single-cluster-info .section[data-v-1c72f60a]{margin:15px 0 5px 0;font-weight:700}.single-cluster-info .cluster-counts[data-v-1c72f60a]{display:flex;margin:10px 0}.single-cluster-info .cluster-counts[data-v-1c72f60a]>*{flex:1}.single-cluster-info .cluster-counts[data-v-1c72f60a]>:not(:last-child){margin-right:20px}.single-cluster-info .glance-item[data-v-1c72f60a]{font-size:14px;padding:5px 0}.single-cluster-info .glance-item .cluster-link[data-v-1c72f60a]{font-size:14px}",""]);const c=i},20020:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var s=a(31601),l=a.n(s),r=a(76314),n=a.n(r),o=a(5111),i=n()(l());i.i(o.A),i.push([e.id,".banner-link[data-v-0915d02e]:focus-visible{outline:2px solid var(--primary-keyboard-focus)}.home-panels[data-v-0915d02e]{display:flex;align-items:stretch}.home-panels .col[data-v-0915d02e]{margin:0}.home-panels .main-panel[data-v-0915d02e]{flex:auto}.home-panels .side-panel[data-v-0915d02e]{margin-left:1.75%}.table-heading[data-v-0915d02e]{align-items:center;display:flex;height:39px}.table-heading>a[data-v-0915d02e]{margin-left:10px}.panel[data-v-0915d02e]:not(:first-child){margin-top:20px}.getting-started[data-v-0915d02e]{align-items:flex-end;display:flex}.getting-started>span[data-v-0915d02e]{flex:1;margin-right:20px}.getting-started-btn[data-v-0915d02e]{display:contents;white-space:nowrap}.col-name[data-v-0915d02e]{max-width:280px}.list-cluster-name .cluster-name[data-v-0915d02e]{display:flex;align-items:center}.list-cluster-name .cluster-name>A[data-v-0915d02e],.list-cluster-name .cluster-name>span[data-v-0915d02e]{overflow:hidden;text-overflow:ellipsis}.list-cluster-name .cluster-description[data-v-0915d02e]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--muted)}.list-cluster-name .conditions-alert-icon[data-v-0915d02e]{color:var(--error);margin-left:4px}.list-cluster-name .rke1-unsupported-icon[data-v-0915d02e]{color:var(--warning);margin-left:4px}@media screen and (max-width:996px){.side-panel[data-v-0915d02e]{display:none}}",""]);const c=i},30274:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var s=a(31601),l=a.n(s),r=a(76314),n=a.n(r),o=a(5111),i=n()(l());i.i(o.A),i.push([e.id,".home-page .search{align-items:center;display:flex}.home-page .search>INPUT{background-color:transparent;height:30px;padding:8px}.home-page h2{font-size:16px}",""]);const c=i},37749:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Ee});var s=a(20641),l=a(90033),r=a(53751);const n={key:0,class:"home-page"},o={class:"row home-panels"},i={class:"col main-panel"},c={class:"row panel"},u={key:0,class:"col span-12"},d={class:"row table-heading"},m={class:"mb-0"},p={class:"table-heading"},g={class:"col-name"},h={class:"list-cluster-name"},v={key:0,class:"cluster-name"},f={key:1},b={key:2,class:"conditions-alert-icon icon-alert icon"},y={key:3,class:"rke1-unsupported-icon icon-warning icon"},k={key:1,class:"cluster-description"},C={class:"col-name"},E={class:"text-muted"},w={key:0},A={key:1},L={key:0},_={key:1},x={key:1,class:"col span-12"};function M(e,t,a,M,R,P){const $=(0,s.g2)("TabTitle"),D=(0,s.g2)("BannerGraphic"),N=(0,s.g2)("BadgeState"),T=(0,s.g2)("router-link"),S=(0,s.g2)("PaginatedResourceTable"),W=(0,s.g2)("SingleClusterInfo"),H=(0,s.g2)("CommunityLinks"),I=(0,s.g2)("IndentedPanel"),O=(0,s.gN)("clean-tooltip");return e.managementReady?((0,s.uX)(),(0,s.CE)("div",n,[(0,s.bF)($,{"show-child":!1,breadcrumb:!1},{default:(0,s.k6)(()=>[(0,s.eW)((0,l.v_)(`${e.vendor} - ${e.t("landing.homepage")}`),1)]),_:1}),t[16]||(t[16]=(0,s.eW)()),(0,s.bF)(D,{small:!0,title:e.t("landing.welcomeToRancher",{vendor:e.vendor}),pref:e.HIDE_HOME_PAGE_CARDS,"pref-key":"welcomeBanner","data-testid":"home-banner-graphic"},null,8,["title","pref"]),t[17]||(t[17]=(0,s.eW)()),(0,s.bF)(I,{class:"mt-20 mb-20"},{default:(0,s.k6)(()=>[(0,s.Lk)("div",o,[(0,s.Lk)("div",i,[(0,s.Lk)("div",c,[e.mcm?((0,s.uX)(),(0,s.CE)("div",u,[e.provClusterSchema?((0,s.uX)(),(0,s.Wv)(S,{key:0,schema:e.provClusterSchema,"table-actions":!1,"row-actions":!1,"key-field":"id",headers:e.headers,"pagination-headers":e.paginationHeaders,context:"home","local-filter":e.filterRowsLocal,"api-filter":e.filterRowsApi,namespaced:!1,groupable:!1,manualRefreshButtonSize:"sm",fetchSecondaryResources:e.fetchSecondaryResources,fetchPageSecondaryResources:e.fetchPageSecondaryResources},(0,s.eX)({"header-left":(0,s.k6)(()=>[(0,s.Lk)("div",d,[(0,s.Lk)("h2",m,(0,l.v_)(e.t("landing.clusters.title")),1),t[3]||(t[3]=(0,s.eW)()),e.clusterCount?((0,s.uX)(),(0,s.Wv)(N,{key:0,label:e.clusterCount.toString(),color:"role-tertiary ml-20 mr-20"},null,8,["label"])):(0,s.Q3)("",!0)])]),"col:name":(0,s.k6)(({row:a})=>[(0,s.Lk)("td",g,[(0,s.Lk)("div",h,[a.mgmt?((0,s.uX)(),(0,s.CE)("p",v,[a.mgmt.isReady&&!a.hasError?((0,s.uX)(),(0,s.Wv)(T,{key:0,to:{name:"c-cluster-explorer",params:{cluster:a.mgmt.id}},role:"link","aria-label":a.nameDisplay},{default:(0,s.k6)(()=>[(0,s.eW)((0,l.v_)(a.nameDisplay),1)]),_:2},1032,["to","aria-label"])):((0,s.uX)(),(0,s.CE)("span",f,(0,l.v_)(a.nameDisplay),1)),t[6]||(t[6]=(0,s.eW)()),a.unavailableMachines?(0,s.bo)(((0,s.uX)(),(0,s.CE)("i",b,null,512)),[[O,a.unavailableMachines]]):(0,s.Q3)("",!0),t[7]||(t[7]=(0,s.eW)()),a.isRke1?(0,s.bo)(((0,s.uX)(),(0,s.CE)("i",y,null,512)),[[O,e.t("cluster.rke1Unsupported")]]):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0),t[8]||(t[8]=(0,s.eW)()),a.description?((0,s.uX)(),(0,s.CE)("p",k,(0,l.v_)(a.description),1)):(0,s.Q3)("",!0)])])]),"col:kubernetesVersion":(0,s.k6)(({row:e})=>[(0,s.Lk)("td",C,[(0,s.Lk)("span",null,(0,l.v_)(e.kubernetesVersion),1),t[9]||(t[9]=(0,s.eW)()),(0,s.bo)(((0,s.uX)(),(0,s.CE)("div",E,[(0,s.eW)((0,l.v_)(e.architecture.label),1)])),[[O,{content:e.architecture.tooltip,placement:"left"}]])])]),"col:cpu":(0,s.k6)(({row:t})=>[t.mgmt&&e.cpuAllocatable(t.mgmt)?((0,s.uX)(),(0,s.CE)("td",w,(0,l.v_)(`${e.cpuAllocatable(t.mgmt)} ${e.t("landing.clusters.cores",{count:e.cpuAllocatable(t.mgmt)})}`),1)):((0,s.uX)(),(0,s.CE)("td",A,"\n                    —\n                  "))]),"col:memory":(0,s.k6)(({row:t})=>[t.mgmt&&e.memoryAllocatable(t.mgmt)&&!e.memoryAllocatable(t.mgmt).match(/^0 [a-zA-z]/)?((0,s.uX)(),(0,s.CE)("td",L,(0,l.v_)(e.memoryAllocatable(t.mgmt)),1)):((0,s.uX)(),(0,s.CE)("td",_,"\n                    —\n                  "))]),_:2},[e.canCreateCluster||e.provClusterSchema?{name:"header-middle",fn:(0,s.k6)(()=>[(0,s.Lk)("div",p,[e.provClusterSchema?((0,s.uX)(),(0,s.Wv)(T,{key:0,to:e.manageLocation,class:"btn btn-sm role-secondary","data-testid":"cluster-management-manage-button",role:"button","aria-label":e.t("cluster.manageAction"),onKeyup:t[0]||(t[0]=(0,r.jR)(t=>e.$router.push(e.manageLocation),["space"]))},{default:(0,s.k6)(()=>[(0,s.eW)((0,l.v_)(e.t("cluster.manageAction")),1)]),_:1},8,["to","aria-label"])):(0,s.Q3)("",!0),t[4]||(t[4]=(0,s.eW)()),e.canCreateCluster?((0,s.uX)(),(0,s.Wv)(T,{key:1,to:e.importLocation,class:"btn btn-sm role-primary","data-testid":"cluster-create-import-button",role:"button","aria-label":e.t("cluster.importAction"),onKeyup:t[1]||(t[1]=(0,r.jR)(t=>e.$router.push(e.importLocation),["space"]))},{default:(0,s.k6)(()=>[(0,s.eW)((0,l.v_)(e.t("cluster.importAction")),1)]),_:1},8,["to","aria-label"])):(0,s.Q3)("",!0),t[5]||(t[5]=(0,s.eW)()),e.canCreateCluster?((0,s.uX)(),(0,s.Wv)(T,{key:2,to:e.createLocation,class:"btn btn-sm role-primary","data-testid":"cluster-create-button",role:"button","aria-label":e.t("generic.create"),onKeyup:t[2]||(t[2]=(0,r.jR)(t=>e.$router.push(e.createLocation),["space"]))},{default:(0,s.k6)(()=>[(0,s.eW)((0,l.v_)(e.t("generic.create")),1)]),_:1},8,["to","aria-label"])):(0,s.Q3)("",!0)])]),key:"0"}:void 0]),1032,["schema","headers","pagination-headers","local-filter","api-filter","fetchSecondaryResources","fetchPageSecondaryResources"])):(0,s.Q3)("",!0)])):((0,s.uX)(),(0,s.CE)("div",x,[(0,s.bF)(W)]))])]),t[15]||(t[15]=(0,s.eW)()),(0,s.bF)(H,{class:"col span-3 side-panel"})])]),_:1})])):(0,s.Q3)("",!0)}var R=a(86691),P=a(2645),$=a(59027),D=a(69883),N=a(68138),T=a(69356);const S={key:0},W={class:"single-cluster-header"},H={class:"single-cluster-info"},I={class:"cluster-counts"},O={class:"glance-item"},V={key:0,class:"glance-item"},X={key:0,style:{"font-size":"0.75em"}},U={class:"glance-item"},F={class:"section"},B={class:"glance-item"},Q={key:1,class:"glance-item"};function q(e,t,a,r,n,o){const i=(0,s.g2)("ClusterProviderIcon"),c=(0,s.g2)("ResourceSummary"),u=(0,s.g2)("LiveDate"),d=(0,s.g2)("router-link");return n.clusterDetail?((0,s.uX)(),(0,s.CE)("div",S,[(0,s.Lk)("div",W,[(0,s.bF)(i,{cluster:n.clusterDetail,class:"rancher-icon",width:"32"},null,8,["cluster"]),t[0]||(t[0]=(0,s.eW)()),(0,s.Lk)("h1",null,(0,l.v_)(e.t("glance.clusterInfo")),1)]),t[13]||(t[13]=(0,s.eW)()),(0,s.Lk)("div",H,[(0,s.Lk)("div",I,[(0,s.bF)(c,{"spoofed-counts":o.totalCountGaugeInput},null,8,["spoofed-counts"]),t[1]||(t[1]=(0,s.eW)()),o.canAccessNodes?((0,s.uX)(),(0,s.Wv)(c,{key:0,cluster:n.clusterDetail.id,resource:"node"},null,8,["cluster"])):(0,s.Q3)("",!0),t[2]||(t[2]=(0,s.eW)()),o.canAccessNamespaces?((0,s.uX)(),(0,s.Wv)(c,{key:1,cluster:n.clusterDetail.id,resource:"namespace"},null,8,["cluster"])):(0,s.Q3)("",!0)]),t[7]||(t[7]=(0,s.eW)()),(0,s.Lk)("div",O,[(0,s.Lk)("label",null,(0,l.v_)(e.t("glance.provider"))+": ",1),t[3]||(t[3]=(0,s.eW)()),(0,s.Lk)("span",null,(0,l.v_)(e.t(`cluster.provider.${n.clusterDetail.status.provider||"other"}`)),1)]),t[8]||(t[8]=(0,s.eW)()),n.clusterDetail.kubernetesVersionRaw?((0,s.uX)(),(0,s.CE)("div",V,[(0,s.Lk)("label",null,(0,l.v_)(e.t("glance.version"))+": ",1),t[4]||(t[4]=(0,s.eW)()),(0,s.Lk)("span",null,(0,l.v_)(n.clusterDetail.kubernetesVersionBase),1),t[5]||(t[5]=(0,s.eW)()),n.clusterDetail.kubernetesVersionExtension?((0,s.uX)(),(0,s.CE)("span",X,(0,l.v_)(n.clusterDetail.kubernetesVersionExtension),1)):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0),t[9]||(t[9]=(0,s.eW)()),(0,s.Lk)("div",U,[(0,s.Lk)("label",null,(0,l.v_)(e.t("glance.created"))+": ",1),t[6]||(t[6]=(0,s.eW)()),(0,s.Lk)("span",null,[(0,s.bF)(u,{value:n.clusterDetail.metadata.creationTimestamp,"add-suffix":!0,"show-tooltip":!0},null,8,["value"])])]),t[10]||(t[10]=(0,s.eW)()),(0,s.Lk)("div",F,(0,l.v_)(e.t("generic.links")),1),t[11]||(t[11]=(0,s.eW)()),(0,s.Lk)("div",B,[(0,s.bF)(d,{to:o.exploreLink,class:"cluster-link"},{default:(0,s.k6)(()=>[(0,s.eW)((0,l.v_)(e.t("nav.categories.explore")),1)]),_:1},8,["to"])]),t[12]||(t[12]=(0,s.eW)()),o.showClusterTools?((0,s.uX)(),(0,s.CE)("div",Q,[(0,s.bF)(d,{to:o.clusterToolsLink,class:"cluster-link"},{default:(0,s.k6)(()=>[(0,s.eW)((0,l.v_)(e.t("nav.clusterTools")),1)]),_:1},8,["to"])])):(0,s.Q3)("",!0)])])):(0,s.Q3)("",!0)}var G=a(6669),z=a(9280),Y=a(55823),j=a(71851);const J={components:{ClusterProviderIcon:G.A,ResourceSummary:z.Ay},async fetch(){this.clusters=await this.$store.dispatch("management/findAll",{type:Y.Mc.CLUSTER})},data(){return{clusters:[],clusterDetail:null,clusterCounts:{}}},computed:{exploreLink(){return{name:"c-cluster",params:{cluster:this.clusterDetail.id}}},clusterToolsLink(){return{name:"c-cluster-explorer-tools",params:{cluster:this.clusterDetail.id}}},accessibleResources(){return j.RESOURCES.filter(e=>this.$store.getters["cluster/schemaFor"](e))},totalCountGaugeInput(){const e={name:this.t("clusterIndexPage.resourceGauge.totalResources"),total:0,useful:0,warningCount:0,errorCount:0};return this.accessibleResources.forEach(t=>{const a=(0,z.xS)(this.$store,t);Object.entries(a).forEach(t=>{e[t[0]]+=t[1]})}),e},canAccessNodes(){return!!this.clusterCounts?.[0]?.counts?.[Y.NW]},canAccessNamespaces(){return!!this.clusterCounts?.[0]?.counts?.[Y.CU]},showClusterTools(){return this.$store.getters["cluster/canList"](Y.W8.CLUSTER_REPO)&&this.$store.getters["cluster/canList"](Y.W8.APP)}},watch:{async clusters(e){this.clusterDetail=e[0],await this.$store.dispatch("loadCluster",{id:this.clusterDetail.id}),this.clusterCounts=this.$store.getters["cluster/all"](Y.i2)}}};a(68703);var K=a(66262);const Z=(0,K.A)(J,[["render",q],["__scopeId","data-v-1c72f60a"]]),ee=Z;var te=a(66278),ae=a(47441),se=a(31645),le=a(46405),re=a(13970),ne=a(75317),oe=a(65189),ie=a(10874),ce=a(73942),ue=a(21616),de=a(43399),me=a(95753);const pe="set-as-login",ge="toggle-homepage-banner";var he=a(92098),ve=a(37001),fe=a(65843),be=a(68710),ye=a(96676);const ke=(0,s.pM)({name:"Home",layout:"home",components:{BannerGraphic:P.A,IndentedPanel:$.A,PaginatedResourceTable:D.A,BadgeState:N.j,CommunityLinks:T.A,SingleClusterInfo:ee,TabTitle:me.A},mixins:[oe.A],data(){var e;const t=(null===(e=this.$store.getters["type-map/optionsFor"](Y.qt.RANCHER_CLUSTER))||void 0===e?void 0:e.custom)||{},a={product:ae.NAME,cluster:ue.w,resource:Y.qt.RANCHER_CLUSTER},s={name:"c-cluster-product-resource-create",params:a},l={...s,query:{[le.g]:le.HC}};return{HIDE_HOME_PAGE_CARDS:R.HIDE_HOME_PAGE_CARDS,pageActions:[{label:this.t("nav.header.setLoginPage"),action:pe},{divider:!0},{label:this.t("nav.header.showHideBanner"),action:ge}],vendor:(0,ie.f7)(),provClusterSchema:this.$store.getters["management/schemaFor"](Y.qt.RANCHER_CLUSTER),canViewMgmtClusters:!!this.$store.getters["management/schemaFor"](Y.Mc.CLUSTER),canViewMachine:!!this.$store.getters["management/canList"](Y.qt.MACHINE),canViewMgmtNodes:!!this.$store.getters["management/canList"](Y.Mc.NODE),canViewMgmtPools:!!this.$store.getters["management/canList"](Y.Mc.NODE_POOL),canViewMgmtTemplates:!!this.$store.getters["management/canList"](Y.Mc.NODE_TEMPLATE),manageLocation:{name:"c-cluster-product-resource",params:{product:ae.NAME,cluster:ue.w,resource:Y.qt.RANCHER_CLUSTER}},createLocation:t.createLocation?t.createLocation(a):s,importLocation:t.importLocation?t.importLocation(a):l,headers:[se.c4,{name:"name",labelKey:"tableHeaders.name",value:"nameDisplay",sort:["nameSort"],canBeVariable:!0,getValue:e=>{var t;return null===(t=e.mgmt)||void 0===t?void 0:t.nameDisplay}},{label:this.t("landing.clusters.provider"),subLabel:this.t("landing.clusters.distro"),value:"mgmt.status.provider",name:"Provider",sort:["mgmt.status.provider"],formatter:"ClusterProvider"},{label:this.t("landing.clusters.kubernetesVersion"),subLabel:this.t("landing.clusters.architecture"),name:"kubernetesVersion"},{label:this.t("tableHeaders.cpu"),value:"",name:"cpu",sort:["status.allocatable.cpu","status.available.cpu"]},{label:this.t("tableHeaders.memory"),value:"",name:"memory",sort:["status.allocatable.memory","status.available.memory"]},{label:this.t("tableHeaders.pods"),name:"pods",value:"",sort:["status.allocatable.pods","status.requested.pods"],formatter:"PodsUsage",delayLoading:!0}],paginationHeaders:[he.Xc,{...he.l3,canBeVariable:!0,value:`metadata.annotations[${ye.qt.HUMAN_NAME}]`,sort:[`metadata.annotations[${ye.qt.HUMAN_NAME}]`],search:`metadata.annotations[${ye.qt.HUMAN_NAME}]`},{label:this.t("landing.clusters.provider"),subLabel:this.t("landing.clusters.distro"),value:"mgmt.status.provider",name:"Provider",sort:!1,search:!1,formatter:"ClusterProvider"},{label:this.t("landing.clusters.kubernetesVersion"),subLabel:this.t("landing.clusters.architecture"),name:"kubernetesVersion",sort:!1,search:!1},{label:this.t("tableHeaders.cpu"),value:"",name:"cpu",sort:!1,search:!1},{label:this.t("tableHeaders.memory"),value:"",name:"memory",sort:!1,search:!1},{label:this.t("tableHeaders.pods"),name:"pods",value:"",sort:!1,search:!1,formatter:"PodsUsage",delayLoading:!0}],clusterCount:0,CURRENT_RANCHER_VERSION:be.ji}},computed:{...(0,te.aH)(["managementReady"]),...(0,te.L8)(["currentCluster","defaultClusterId"]),mcm:(0,ce.mapFeature)(ce.MULTI_CLUSTER),canCreateCluster(){var e;return!!(null===(e=this.provClusterSchema)||void 0===e?void 0:e.collectionMethods.find(e=>"post"===e.toLowerCase()))},afterLoginRoute:(0,R.mapPref)(R.AFTER_LOGIN_ROUTE),homePageCards:(0,R.mapPref)(R.HIDE_HOME_PAGE_CARDS)},async created(){await this.$store.dispatch("prefs/setLastVisited",{name:"home"}),(0,ne.FM)(this.$store)},beforeUnmount(){this.$store.dispatch("management/forgetType",Y.qt.MACHINE),this.$store.dispatch("management/forgetType",Y.Mc.NODE),this.$store.dispatch("management/forgetType",Y.Mc.NODE_POOL),this.$store.dispatch("management/forgetType",Y.Mc.NODE_TEMPLATE)},methods:{fetchSecondaryResources(e){return e.canPaginate||(this.canViewMgmtClusters&&this.$store.dispatch("management/findAll",{type:Y.Mc.CLUSTER}),this.canViewMachine&&this.$store.dispatch("management/findAll",{type:Y.qt.MACHINE}),this.canViewMgmtNodes&&this.$store.dispatch("management/findAll",{type:Y.Mc.NODE}),this.canViewMgmtPools&&this.$store.dispatch("management/findAll",{type:Y.Mc.NODE_POOL}),this.canViewMgmtTemplates&&this.$store.dispatch("management/findAll",{type:Y.Mc.NODE_TEMPLATE})),Promise.resolve({})},async fetchPageSecondaryResources({canPaginate:e,force:t,page:a,pagResult:s}){if(e&&(null===a||void 0===a?void 0:a.length)){if(this.clusterCount=s.count,this.canViewMgmtClusters){const e={force:t,pagination:new ve.YU({filters:ve.eY.createMultipleFields(a.map(e=>new ve.Js({field:"id",value:e.mgmtClusterId})))})};this.$store.dispatch("management/findPage",{type:Y.Mc.CLUSTER,opt:e})}if(this.canViewMachine){const e={force:t,pagination:new ve.YU({filters:ve.eY.createMultipleFields(a.map(e=>new ve.Js({field:"spec.clusterName",value:e.metadata.name})))})};await this.$store.dispatch("management/findPage",{type:Y.qt.MACHINE,opt:e})}if(this.canViewMgmtNodes){const e={force:t,pagination:new ve.YU({filters:ve.eY.createMultipleFields(a.map(e=>new ve.Js({field:"id",value:e.mgmtClusterId,exact:!1})))})};this.$store.dispatch("management/findPage",{type:Y.Mc.NODE,opt:e})}if(this.canViewMgmtPools&&this.canViewMgmtTemplates){const e=ve.eY.createMultipleFields(a.filter(e=>{var t;return null===(t=e.status)||void 0===t?void 0:t.clusterName}).map(e=>{var t;return new ve.Js({field:"spec.clusterName",value:null===(t=e.status)||void 0===t?void 0:t.clusterName})})),s=await this.$store.dispatch("management/findPage",{type:Y.Mc.NODE_POOL,opt:{force:t,pagination:new ve.YU({filters:e})}}),l=ve.eY.createMultipleFields(s.filter(e=>!!e.nodeTemplateId).map(e=>new ve.Js({field:"id",value:e.nodeTemplateId,exact:!0})));this.$store.dispatch("management/findPage",{type:Y.Mc.NODE_TEMPLATE,opt:{force:t,pagination:new ve.YU({filters:l})}})}}else this.clusterCount=0},handlePageAction(e){switch(e.action){case ge:this.toggleBanner();break;case pe:this.afterLoginRoute="home";break}},cpuUsed(e){var t;return(0,re.ao)(null===(t=e.status.requested)||void 0===t?void 0:t.cpu)},cpuAllocatable(e){var t;return(0,re.ao)(null===(t=e.status.allocatable)||void 0===t?void 0:t.cpu)},memoryAllocatable(e){var t;const a=((0,re.ao)(null===(t=e.status.allocatable)||void 0===t?void 0:t.memory)||0).toString(),s=(0,re.R_)(a);return(0,re.Mo)(a,s)},memoryReserved(e){var t,a,s,l;const r=(0,re.S0)(null===(a=null===(t=null===e||void 0===e?void 0:e.status)||void 0===t?void 0:t.allocatable)||void 0===a?void 0:a.memory,null===(l=null===(s=null===e||void 0===e?void 0:e.status)||void 0===s?void 0:s.requested)||void 0===l?void 0:l.memory);return`${r.useful}/${r.total} ${r.units}`},async resetCards(){const e=this.$store.getters["prefs/get"](R.HIDE_HOME_PAGE_CARDS)||{};delete e.setLoginPage,await this.$store.dispatch("prefs/set",{key:R.HIDE_HOME_PAGE_CARDS,value:e})},async toggleBanner(){const e=this.$store.getters["prefs/get"](R.HIDE_HOME_PAGE_CARDS)||{};e.welcomeBanner?delete e.welcomeBanner:e.welcomeBanner=!0,await this.$store.dispatch("prefs/set",{key:R.HIDE_HOME_PAGE_CARDS,value:e})},filterRowsLocal(e){return(0,de.uY)((0,de.WJ)(e||[],this.$store),this.$store)},filterRowsApi(e){e.filters||(e.filters=[]);const t=e.filters,a=(0,de.gF)(this.$store,!1);for(let s=0;s<a.length;s++){let l=!1;const r=a[s];for(let e=0;e<t.length;e++){const a=t[e];if(r.fields.length===a.fields.length&&(0,fe.P1)(r.fields.map(e=>e.field),a.fields.map(e=>e.field))){Object.assign(a,r),l=!0;break}}l||e.filters.push(r)}return e}}});a(86842),a(37796);const Ce=(0,K.A)(ke,[["render",M],["__scopeId","data-v-0915d02e"]]),Ee=Ce},37796:(e,t,a)=>{var s=a(30274);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var l=a(99548).A;l("836731de",s,!0,{sourceMap:!1,shadowMode:!1})},65189:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});const s="pageActions",l={created(){this.updatePageActions();const e=e=>{this.handlePageAction&&this.handlePageAction(e)};this.$store.commit("pageActionHandler",e)},beforeUnmount(){this.pageActions&&this.$store.commit(s,[]),this.$store.commit("clearPageActionHandler")},methods:{updatePageActions(){this.pageActions&&this.$store.commit(s,this.pageActions)}},watch:{pageActions(e,t){this.updatePageActions()}}}},68703:(e,t,a)=>{var s=a(16857);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var l=a(99548).A;l("0ef2bbed",s,!0,{sourceMap:!1,shadowMode:!1})},76787:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var s=a(31601),l=a.n(s),r=a(76314),n=a.n(r),o=a(5111),i=n()(l());i.i(o.A),i.push([e.id,".rancher-icon-fill[data-v-2f22b424]{fill:var(--link,var(--primary))}.cluster-icon[data-v-2f22b424]{align-items:center;display:flex;height:32px;justify-content:center;width:42px}.cluster-icon-border[data-v-2f22b424]{border:1px solid var(--border);border-radius:5px;color:var(--body-text)!important}.cluster-icon-small[data-v-2f22b424],.cluster-icon-small .cluster-badge-logo[data-v-2f22b424],.cluster-icon-small .cluster-os-logo[data-v-2f22b424]{height:25px;width:25px}.cluster-os-logo[data-v-2f22b424]{width:32px;height:32px}.cluster-local-logo[data-v-2f22b424]{display:flex;width:25px}.cluster-badge-logo[data-v-2f22b424]{min-width:42px;height:32px;padding:0 5px;display:flex;align-items:center;justify-content:center;border-radius:5px;font-weight:700}",""]);const c=i},86842:(e,t,a)=>{var s=a(20020);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var l=a(99548).A;l("c77e6c06",s,!0,{sourceMap:!1,shadowMode:!1})},92081:(e,t,a)=>{var s=a(76787);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var l=a(99548).A;l("b4a0204a",s,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=7749.51d65835.js.map