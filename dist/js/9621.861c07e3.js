(self["webpackChunkcluster_log_extension"]=self["webpackChunkcluster_log_extension"]||[]).push([[9621],{14616:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var i=s(31601),o=s.n(i),r=s(76314),n=s.n(r),a=s(5111),l=n()(o());l.i(a.A),l.push([e.id,".create-resource-container .subtype-banner[data-v-9d4c0c10]{min-height:80px;padding:10px}",""]);const p=l},58824:(e,t,s)=>{var i=s(59610);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);var o=s(99548).A;o("211cbeb7",i,!0,{sourceMap:!1,shadowMode:!1})},59610:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var i=s(31601),o=s.n(i),r=s(76314),n=s.n(r),a=s(5111),l=n()(o());l.i(a.A),l.push([e.id,".top[data-v-48821e48]{display:flex;position:relative}.top>h2[data-v-48821e48]{flex:1}.close-button[data-v-48821e48]{cursor:pointer;display:flex;align-items:center;justify-content:center;padding:2px}.close-button>i[data-v-48821e48]{font-size:14px;opacity:.5}.close-button[data-v-48821e48]:hover{background-color:var(--wm-closer-hover-bg)}",""]);const p=l},69953:(e,t,s)=>{"use strict";s.d(t,{A:()=>m});var i=s(20641),o=s(90033);const r={key:0,class:"simple-box","data-testid":"simple-box-container"},n={key:0,class:"top"},a={key:0,"data-testid":"simple-box-title"},l={class:"content"};function p(e,t,s,p,c,d){return e.shown?((0,i.uX)(),(0,i.CE)("div",r,[s.title||s.canClose||e.$slots.title?((0,i.uX)(),(0,i.CE)("div",n,[(0,i.RG)(e.$slots,"title",{},()=>[s.title?((0,i.uX)(),(0,i.CE)("h2",a,(0,o.v_)(s.title),1)):(0,i.Q3)("",!0)],!0),t[2]||(t[2]=(0,i.eW)()),s.canClose||e.pref?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"close-button","data-testid":"simple-box-close",onClick:t[0]||(t[0]=e=>d.closeBox(e))},t[1]||(t[1]=[(0,i.Lk)("i",{class:"icon icon-close"},null,-1)]))):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0),t[3]||(t[3]=(0,i.eW)()),(0,i.Lk)("div",l,[(0,i.RG)(e.$slots,"default",{},void 0,!0)])])):(0,i.Q3)("",!0)}var c=s(83714);const d={name:"SimpleBox",emits:["close"],mixins:[c.A],props:{title:{type:String,default:null},canClose:{type:Boolean,default:!1}},methods:{closeBox(e){this.hide(),this.$emit("close",e)}}};s(58824),s(85898);var u=s(66262);const g=(0,u.A)(d,[["render",p],["__scopeId","data-v-48821e48"]]),m=g},74454:(e,t,s)=>{var i=s(14616);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);var o=s(99548).A;o("f23d8e96",i,!0,{sourceMap:!1,shadowMode:!1})},79621:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>W});var i=s(20641),o=s(90033);const r={key:1},n={class:"row"},a={class:"col span-12"},l={class:"create-resource-container"},p={class:"subtypes-container"},c=["href","disabled"],d={class:"subtype-content"},u={class:"title"},g={class:"subtype-logo round-image"},m={class:"description"};function v(e,t,s,v,h,b){const k=(0,i.g2)("Loading"),f=(0,i.g2)("t"),x=(0,i.g2)("LazyImage"),y=(0,i.g2)("AlertTable"),L=(0,i.g2)("SimpleBox"),w=(0,i.gN)("clean-tooltip");return e.$fetchState.pending?((0,i.uX)(),(0,i.Wv)(k,{key:0})):((0,i.uX)(),(0,i.CE)("section",r,[(0,i.Lk)("header",n,[(0,i.Lk)("div",a,[(0,i.Lk)("h1",null,[(0,i.bF)(f,{k:"monitoring.overview.title"})]),t[0]||(t[0]=(0,i.eW)()),(0,i.Lk)("div",null,[(0,i.bF)(f,{k:"monitoring.overview.subtitle",raw:!0})])])]),t[7]||(t[7]=(0,i.eW)()),(0,i.Lk)("div",null,[(0,i.Lk)("div",l,[(0,i.Lk)("div",p,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(h.externalLinks,(s,r)=>(0,i.bo)(((0,i.uX)(),(0,i.CE)("a",{key:r,href:s.enabled?s.link:void 0,disabled:!s.enabled||null,target:"_blank",rel:"noopener noreferrer",class:(0,o.C4)({"subtype-banner":!0,disabled:!s.enabled})},[(0,i.Lk)("div",d,[(0,i.Lk)("div",u,[(0,i.Lk)("div",g,[(0,i.bF)(x,{src:s.iconSrc},null,8,["src"])]),t[1]||(t[1]=(0,i.eW)()),(0,i.Lk)("h5",null,[(0,i.Lk)("span",null,[(0,i.bF)(f,{k:s.label},null,8,["k"])])]),t[2]||(t[2]=(0,i.eW)()),t[3]||(t[3]=(0,i.Lk)("div",{class:"flex-right"},[(0,i.Lk)("i",{class:"icon icon-external-link"})],-1))]),t[4]||(t[4]=(0,i.eW)()),t[5]||(t[5]=(0,i.Lk)("hr",{role:"none"},null,-1)),t[6]||(t[6]=(0,i.eW)()),(0,i.Lk)("div",m,[(0,i.Lk)("span",null,[(0,i.bF)(f,{k:s.description},null,8,["k"])])])])],10,c)),[[w,s.enabled?void 0:e.t("monitoring.overview.linkedList.na")]])),128))])])]),t[8]||(t[8]=(0,i.eW)()),(0,i.Lk)("div",null,[(0,i.bF)(L,{class:"mt-30",title:e.t("monitoring.overview.alertsList.label")},{default:(0,i.k6)(()=>[(0,i.bF)(y)]),_:1},8,["title"])])]))}var h=s(62193),b=s.n(h),k=s(87246),f=s(55823),x=s(47170),y=s(65843),L=s(86485),w=s(8960),A=s(69953),$=s(4055),_=s(57090);const C={components:{LazyImage:w.A,SimpleBox:A.A,AlertTable:k.A,Loading:_.A},async fetch(){await this.fetchDeps()},data(){const e=s(40629),t=s(31759),i=this.$store.getters["currentCluster"];return{availableLinks:{alertmanager:!1,grafana:!1,prometheus:!1},resources:[f.Rp.ALERTMANAGER,f.Rp.PROMETHEUS],externalLinks:[{enabled:!1,group:"alertmanager",iconSrc:t,label:"monitoring.overview.linkedList.alertManager.label",description:"monitoring.overview.linkedList.alertManager.description",link:`/k8s/clusters/${i.id}/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-alertmanager:9093/proxy`},{enabled:!1,group:"grafana",iconSrc:e,label:"monitoring.overview.linkedList.grafana.label",description:"monitoring.overview.linkedList.grafana.description",link:""},{enabled:!1,group:"prometheus",iconSrc:t,label:"monitoring.overview.linkedList.prometheusPromQl.label",description:"monitoring.overview.linkedList.prometheusPromQl.description",link:`/k8s/clusters/${i.id}/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-prometheus:9090/proxy/graph`},{enabled:!1,group:"prometheus",iconSrc:t,label:"monitoring.overview.linkedList.prometheusRules.label",description:"monitoring.overview.linkedList.prometheusRules.description",link:`/k8s/clusters/${i.id}/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-prometheus:9090/proxy/rules`},{enabled:!1,group:"prometheus",iconSrc:t,label:"monitoring.overview.linkedList.prometheusTargets.label",description:"monitoring.overview.linkedList.prometheusTargets.description",link:`/k8s/clusters/${i.id}/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-prometheus:9090/proxy/targets`}]}},methods:{async fetchDeps(){const{$store:e,externalLinks:t}=this,s={};e.getters["cluster/canList"](f.W8.APP)&&(s.apps=e.dispatch("cluster/findAll",{type:f.W8.APP}));const i=await(0,x.kR)(s),o=await(0,$.D1)(this.$store),r=await(0,$.kj)(this.$store),n=await(0,$.sv)(this.$store);if(o){const e=(0,y.jq)(t,"group","alertmanager");e.enabled=!0}if(r){const e=(0,y.jq)(t,"group","grafana"),s=this.$store.getters["currentCluster"],o=b()(i.apps)?"":(0,y.jq)(i.apps,"id","cattle-monitoring-system/rancher-monitoring"),r=(0,L.rW)(o?.currentVersion||"",s.id);e.link=`${r}/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/`,e.enabled=!0}if(n){const e=t.filter(e=>"prometheus"===e.group);e.forEach(e=>{e.enabled=!0})}}}};s(74454);var S=s(66262);const M=(0,S.A)(C,[["render",v],["__scopeId","data-v-9d4c0c10"]]),W=M},83714:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});const i={props:{pref:{type:String,default:null},prefKey:{type:String,default:null}},computed:{shown(){let e=!0;if(this.pref){const t=this.$store.getters["prefs/get"](this.pref);e=this.prefKey?!t[this.prefKey]:!t}return e}},methods:{async hide(){if(this.pref){let e=this.$store.getters["prefs/get"](this.pref);this.prefKey&&((!0===e||!1===e||e.length>0)&&(e={}),e[this.prefKey]=!0),await this.$store.dispatch("prefs/set",{key:this.pref,value:e})}}}}},85898:(e,t,s)=>{var i=s(92680);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);var o=s(99548).A;o("4b6848cb",i,!0,{sourceMap:!1,shadowMode:!1})},92680:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var i=s(31601),o=s.n(i),r=s(76314),n=s.n(r),a=s(5111),l=n()(o());l.i(a.A),l.push([e.id,".simple-box{background:var(--simple-box-bg) 0 0 no-repeat padding-box;box-shadow:0 0 10px var(--simple-box-shadow);border:1px solid var(--simple-box-border);padding:15px}.simple-box .top{line-height:24px;font-size:18px;border-bottom:1px solid var(--simple-box-divider);padding-bottom:15px;margin:0 -15px 10px -15px;padding:0 15px 15px 15px;align-items:center;display:flex .simple-box .top BUTTON;display-padding:0;display-height:fit-content;display-align-self:flex-start}.simple-box .top H2{margin-bottom:0}.simple-box .content{padding:15px}",""]);const p=l}}]);
//# sourceMappingURL=9621.861c07e3.js.map