(self["webpackChunkcluster_log_extension"]=self["webpackChunkcluster_log_extension"]||[]).push([[391],{38841:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>v});var l=o(20641),r=o(90033);const a={class:"text-default-text"},s={class:"mb-10"},n=["aria-label"];function c(e,t,o,c,i,p){const d=(0,l.g2)("Banner"),u=(0,l.g2)("AsyncButton"),h=(0,l.g2)("Card"),m=(0,l.gN)("clean-html");return(0,l.uX)(),(0,l.Wv)(h,{role:"alertdialog","aria-modal":"true",class:"prompt-redeploy","show-highlight-border":!1},{title:(0,l.k6)(()=>[(0,l.Lk)("h4",a,(0,r.v_)(e.t("promptRedeploy.title",{type:p.type})),1)]),body:(0,l.k6)(()=>[(0,l.Lk)("div",s,[(0,l.bo)((0,l.Lk)("span",null,null,512),[[m,e.t("promptRedeploy.attemptingToRedeploy",{type:p.type,names:p.resourceNames(p.names,null,e.t)})]]),t[1]||(t[1]=(0,l.eW)()),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.errors,(e,t)=>((0,l.uX)(),(0,l.Wv)(d,{key:t,role:"alert",color:"error",label:e},null,8,["label"]))),128))])]),actions:(0,l.k6)(()=>[(0,l.Lk)("button",{role:"button",class:"btn role-secondary","aria-label":e.t("generic.cancel"),onClick:t[0]||(t[0]=(...e)=>p.close&&p.close(...e))},(0,r.v_)(e.t("generic.cancel")),9,n),t[2]||(t[2]=(0,l.eW)()),t[3]||(t[3]=(0,l.Lk)("div",{class:"spacer"},null,-1)),t[4]||(t[4]=(0,l.eW)()),(0,l.bF)(u,{role:"button",class:"btn bg-error ml-10","action-label":e.t("asyncButton.redeploy.action"),onClick:p.apply},null,8,["action-label","onClick"])]),_:1,__:[5,6]})}var i=o(96676),p=o(72268),d=o(40949),u=o(14492),h=o(37447),m=o(72140),y=o(66278);const k={name:"RedeployWorkloadDialog",emits:["close"],components:{Card:d.Z,AsyncButton:p.A,Banner:u.l},props:{workloads:{type:Array,required:!0}},data(){return{errors:[]}},computed:{...(0,y.L8)({t:"i18n/t",labelFor:"type-map/labelFor"}),names(){return this.workloads.map(({nameDisplay:e})=>e)},type(){const e=new Set(this.workloads.map(({type:e})=>e));if(e.size>1)return this.t("generic.resource",{count:this.workloads.length});const[{schema:t}={}]=this.workloads;return t?this.labelFor(t,this.workloads.length):"resource"+(1===this.workloads.length?"":"s")}},methods:{resourceNames:m.Nr,close(){this.$emit("close")},async apply(e){var t,o,l;try{const r=(new Date).toISOString().replace(/\.\d+Z$/,"Z");for(const e of this.workloads){const a=null!==(t=(l=e.spec.template).metadata)&&void 0!==t?t:l.metadata={},s=null!==(o=a.annotations)&&void 0!==o?o:a.annotations={};s[i.ht]=r,await e.save()}null===e||void 0===e||e(!0),this.close()}catch(r){this.errors=(0,h.rz)(r),null===e||void 0===e||e(!1)}}}};o(93888);var b=o(66262);const g=(0,b.A)(k,[["render",c]]),v=g},45766:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>i});var l=o(31601),r=o.n(l),a=o(76314),s=o.n(a),n=o(5111),c=s()(r());c.i(n.A),c.push([e.id,".prompt-redeploy.card-container{box-shadow:none}.prompt-redeploy .card-actions .spacer{flex:1}",""]);const i=c},93888:(e,t,o)=>{var l=o(45766);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var r=o(99548).A;r("5c523967",l,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=dialog48.cb2047f8.js.map