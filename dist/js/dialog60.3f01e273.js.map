{"version":3,"file":"js/dialog60.3f01e273.js","mappings":"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","sources":["webpack://cluster-log-extension/./node_modules/@rancher/shell/dialog/SearchDialog.vue?3a00","webpack://cluster-log-extension/./node_modules/@rancher/shell/dialog/SearchDialog.vue","webpack://cluster-log-extension/./node_modules/@rancher/shell/dialog/SearchDialog.vue?6305","webpack://cluster-log-extension/./node_modules/@rancher/shell/dialog/SearchDialog.vue?8a33"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../../vue-loader/dist/stylePostLoader.js!../../../postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../../postcss-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../../xterm/css/xterm.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.search[data-v-7d6842d4],.search[data-v-7d6842d4]:hover{position:relative;background-color:var(--dropdown-bg);border-radius:0;box-shadow:none}.search-box[data-v-7d6842d4]{margin:8px}.search[data-v-7d6842d4]:focus-visible{outline-offset:-2px}.dialog-title[data-v-7d6842d4]{padding:8px}.dialog-title>div[data-v-7d6842d4]{font-size:16px;font-weight:700;margin:8px 0}.results[data-v-7d6842d4]{margin-top:-1px;overflow-y:auto;padding:10px;color:var(--dropdown-text);background-color:var(--dropdown-bg);border-top:1px solid var(--dropdown-border);height:75vh}`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","<script>\nimport debounce from 'lodash/debounce';\nimport Group from '@shell/components/nav/Group';\nimport { isMac } from '@shell/utils/platform';\nimport { BOTH, TYPE_MODES } from '@shell/store/type-map';\nimport { COUNT } from '@shell/config/types';\n\nexport default {\n  emits: ['close'],\n\n  components: { Group },\n\n  data() {\n    return {\n      isMac,\n      value:  '',\n      groups: null,\n    };\n  },\n\n  watch: {\n    value() {\n      this.queueUpdate();\n    },\n  },\n\n  mounted() {\n    this.updateMatches();\n    this.queueUpdate = debounce(this.updateMatches, 250);\n\n    this.$refs.input.focus();\n  },\n\n  methods: {\n    updateMatches() {\n      const clusterId = this.$store.getters['clusterId'];\n      const productId = this.$store.getters['productId'];\n      const product = this.$store.getters['currentProduct'];\n\n      const allTypesByMode = this.$store.getters['type-map/allTypes'](productId, [TYPE_MODES.ALL]) || {};\n      const allTypes = allTypesByMode[TYPE_MODES.ALL];\n      const out = this.$store.getters['type-map/getTree'](productId, TYPE_MODES.ALL, allTypes, clusterId, BOTH, null, this.value);\n\n      // Supplement the output with count info. Usually the `Type` component would handle this individually... but scales real bad so give it\n      // some help\n      const counts = this.$store.getters[`${ product.inStore }/all`](COUNT)?.[0]?.counts || {};\n\n      out.forEach((o) => {\n        o.children?.forEach((t) => {\n          const count = counts[t.name];\n\n          t.count = count ? count.summary.count || 0 : null;\n          t.byNamespace = count ? count.namespaces : {};\n          t.revision = count ? count.revision : null;\n        });\n      });\n\n      this.groups = out;\n\n      // Hide top-level groups with no children (or one child that is an overview)\n      this.groups.forEach((g) => {\n        const isRoot = g.isRoot || g.name === 'Root';\n        const hidden = isRoot || g.children?.length === 0 || (g.children?.length === 1 && g.children[0].overview);\n\n        g.hidden = !!hidden;\n      });\n    }\n  },\n};\n</script>\n\n<template>\n  <div>\n    <p\n      id=\"describe-filter-resource-search\"\n      hidden\n    >\n      {{ t('nav.resourceSearch.filteringDescription') }}\n    </p>\n    <div class=\"dialog-title\">\n      <div>{{ t('nav.resourceSearch.label') }}</div>\n      <p>{{ t('nav.resourceSearch.prompt') }}</p>\n    </div>\n    <div class=\"search-box\">\n      <input\n        ref=\"input\"\n        v-model=\"value\"\n        :placeholder=\"t('nav.resourceSearch.placeholder')\"\n        class=\"search\"\n        role=\"textbox\"\n        :aria-label=\"t('nav.resourceSearch.label')\"\n        aria-describedby=\"describe-filter-resource-search\"\n        @keyup.esc=\"$emit('close')\"\n      >\n    </div>\n    <div class=\"results\">\n      <div\n        v-for=\"g in groups\"\n        :key=\"g.name\"\n        class=\"package\"\n      >\n        <Group\n          v-if=\"!g.hidden\"\n          :key=\"g.name\"\n          id-prefix=\"\"\n          :group=\"g\"\n          :can-collapse=\"false\"\n          :fixed-open=\"true\"\n          @close=\"$emit('close')\"\n        >\n          <template #accordion>\n            <h6>{{ g.label }}</h6>\n          </template>\n        </Group>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  .search, .search:hover {\n    position: relative;\n    background-color: var(--dropdown-bg);\n    border-radius: 0;\n    box-shadow: none;\n  }\n\n  .search-box {\n    margin: 8px;\n  }\n\n  .search:focus-visible {\n    outline-offset: -2px;\n  }\n\n  .dialog-title {\n    padding: 8px;\n\n    > div {\n      font-size: 16px;\n      font-weight: bold;\n      margin: 8px 0;\n    }\n  }\n\n  .results {\n    margin-top: -1px;\n    overflow-y: auto;\n    padding: 10px;\n    color: var(--dropdown-text);\n    background-color: var(--dropdown-bg);\n    border-top: 1px solid var(--dropdown-border);\n    height: 75vh;\n  }\n</style>\n","import { render } from \"./SearchDialog.vue?vue&type=template&id=7d6842d4&scoped=true\"\nimport script from \"./SearchDialog.vue?vue&type=script&lang=js\"\nexport * from \"./SearchDialog.vue?vue&type=script&lang=js\"\n\nimport \"./SearchDialog.vue?vue&type=style&index=0&id=7d6842d4&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7d6842d4\"]])\n\nexport default __exports__","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../../vue-loader/dist/stylePostLoader.js!../../../postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../../postcss-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../../sass-loader/dist/cjs.js??clonedRuleSet-22.use[4]!../../../cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../vue-loader/dist/index.js??ruleSet[0].use[1]!./SearchDialog.vue?vue&type=style&index=0&id=7d6842d4&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"755e57b4\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"names":["___CSS_LOADER_EXPORT___","i","push","module","id","hidden","class","t","ref","placeholder","role","$emit","value","groups","g","key","name","group","accordion","label","emits","components","Group","data","isMac","watch","this","queueUpdate","mounted","updateMatches","$refs","input","focus","methods","clusterId","$store","getters","productId","product","allTypesByMode","TYPE_MODES","ALL","allTypes","out","BOTH","counts","inStore","forEach","o","children","count","summary","byNamespace","namespaces","revision","isRoot","length","overview","__exports__","render","content","__esModule","default","locals","exports","add"],"ignoreList":[],"sourceRoot":""}