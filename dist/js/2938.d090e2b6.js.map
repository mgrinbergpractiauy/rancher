{"version":3,"file":"js/2938.d090e2b6.js","mappings":"sNA6FUA,MAAM,qC,6JAtCCC,EAAAA,YAAmB,U,WAAlC,QAAsC,c,WACtC,QA2CM,UA1CJ,QAiBW,GAhBRC,OAAQ,EAAAA,OACRC,SAAU,EAAAA,SACV,eAAcC,EAAAA,EAAE,4B,CAENC,cAAY,QAc5B,IAcM,CA1BS,EAAqB,wB,WAD7B,QASE,G,MAPAC,KAAK,UACJ,eAAcF,EAAAA,EAAE,2BAChB,gBAAeA,EAAAA,EAAE,2BACjB,gBAAeA,EAAAA,EAAE,2BACjB,cAAaA,EAAAA,EAAE,2BACf,cAAa,2BACb,QAAO,EAAAG,oB,yKAKN,EAAqB,wB,WAD7B,QAKE,G,MAHAC,MAAM,UACN,YAAU,4CACV,cAAY,gD,wCAEd,QAiBgB,GAhBbN,OAAQ,EAAAA,OACRO,KAAM,EAAAA,KACN,wCAAuC,EAAAC,iCACvC,gCAA+B,EAAAC,0BAC/BC,cAAc,EACd,cAAa,yB,CAEH,aAAS,QAClB,EADqBC,SAAG,EACxB,QAAkC,qBAAzBA,EAAIC,aAAW,G,wBAEhBD,EAAe,c,WADvB,QAKM,MALN,GAKM,QADDA,EAAIE,aAAW,K,uMAtF5B,SACEC,KAAY,mBACZC,WAAY,CACVC,cAAa,IAAEC,QAAO,IAAEC,SAAQ,IAAEC,YAAW,IAAEC,OAAM,KAGvD,WAAMC,GACJC,KAAKC,iBAAmBD,KAAKE,OAAOC,SAAS,kBAAmB,CAAEC,KAAM,KAAOC,kBAAoB,CAAEC,MAAM,GAC7G,EAEA,IAAAC,GACE,MAAO,CACLN,WAAkC,KAClCO,uBAAkC,EAClC7B,SAAkC,KAAO0B,iBACzC3B,OAAkCsB,KAAKE,OAAOO,QAAQ,qBAAqB,KAAOJ,kBAClFnB,kCAAkC,EAClCC,0BAAkC,GAClCuB,uBAAkC,IAAAC,aAAYX,KAAKE,OAAOO,SAE9D,EACAG,SAAU,CACR,IAAA3B,GACE,OAAOe,KAAKC,YAAc,EAC5B,GAEFY,QAAS,CACP,wBAAM9B,CAAmB+B,GACvB,UACQd,KAAKE,OAAOC,SAAS,kBAAmB,CAC5CY,IAAQ,sCACRC,OAAQ,OACRT,KAAQ,CAAE,IAGZO,GAAW,EACb,CAAE,MAAOG,GACPjB,KAAKE,OAAOC,SAAS,kBAAmB,CAAEe,MAAO,qCAAsCD,OAAO,CAAEX,MAAM,IACtGQ,GAAW,EACb,CACF,I,eC5CJ,MAAMK,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,G","sources":["webpack://cluster-log-extension/./node_modules/@rancher/shell/pages/c/_cluster/manager/drivers/kontainerDriver/index.vue","webpack://cluster-log-extension/./node_modules/@rancher/shell/pages/c/_cluster/manager/drivers/kontainerDriver/index.vue?05d5"],"sourcesContent":["<script>\nimport { NORMAN } from '@shell/config/types';\nimport { isAdminUser } from '@shell/store/type-map';\nimport ResourceTable from '@shell/components/ResourceTable';\nimport AsyncButton from '@shell/components/AsyncButton';\nimport Loading from '@shell/components/Loading';\nimport Masthead from '@shell/components/ResourceList/Masthead';\nimport Banner from '@components/Banner/Banner.vue';\n\nexport default {\n  name:       'KontainerDrivers',\n  components: {\n    ResourceTable, Loading, Masthead, AsyncButton, Banner\n  },\n\n  async fetch() {\n    this.allDrivers = await this.$store.dispatch('rancher/findAll', { type: NORMAN.KONTAINER_DRIVER }, { root: true });\n  },\n\n  data() {\n    return {\n      allDrivers:                       null,\n      canRefreshK8sMetadata:            true,\n      resource:                         NORMAN.KONTAINER_DRIVER,\n      schema:                           this.$store.getters['rancher/schemaFor'](NORMAN.KONTAINER_DRIVER),\n      useQueryParamsForSimpleFiltering: false,\n      forceUpdateLiveAndDelayed:        10,\n      showDeprecationBanner:            isAdminUser(this.$store.getters),\n    };\n  },\n  computed: {\n    rows() {\n      return this.allDrivers || [];\n    },\n  },\n  methods: {\n    async refreshK8sMetadata(buttonDone) {\n      try {\n        await this.$store.dispatch('rancher/request', {\n          url:    '/v3/kontainerdrivers?action=refresh',\n          method: 'post',\n          data:   { },\n        });\n\n        buttonDone(true);\n      } catch (err) {\n        this.$store.dispatch('growl/fromError', { title: 'Error refreshing kontainer drivers', err }, { root: true });\n        buttonDone(false);\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <Masthead\n      :schema=\"schema\"\n      :resource=\"resource\"\n      :type-display=\"t('drivers.kontainer.title')\"\n    >\n      <template #extraActions>\n        <AsyncButton\n          v-if=\"canRefreshK8sMetadata\"\n          mode=\"refresh\"\n          :action-label=\"t('drivers.actions.refresh')\"\n          :waiting-label=\"t('drivers.actions.refresh')\"\n          :success-label=\"t('drivers.actions.refresh')\"\n          :error-label=\"t('drivers.actions.refresh')\"\n          :data-testid=\"'kontainer-driver-refresh'\"\n          @click=\"refreshK8sMetadata\"\n        />\n      </template>\n    </Masthead>\n    <Banner\n      v-if=\"showDeprecationBanner\"\n      color=\"warning\"\n      label-key=\"drivers.kontainer.emberDeprecationMessage\"\n      data-testid=\"kontainer-driver-ember-deprecation-banner\"\n    />\n    <ResourceTable\n      :schema=\"schema\"\n      :rows=\"rows\"\n      :use-query-params-for-simple-filtering=\"useQueryParamsForSimpleFiltering\"\n      :force-update-live-and-delayed=\"forceUpdateLiveAndDelayed\"\n      :tableActions=\"true\"\n      :data-testid=\"'kontainer-driver-list'\"\n    >\n      <template #cell:name=\"{row}\">\n        <span>{{ row.nameDisplay }}</span>\n        <div\n          v-if=\"row.description\"\n          class=\"description text-muted text-small\"\n        >\n          {{ row.description }}\n        </div>\n      </template>\n    </ResourceTable>\n  </div>\n</template>\n","import { render } from \"./index.vue?vue&type=template&id=3f2cecda\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../../../../vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","$fetchState","schema","resource","t","extraActions","mode","refreshK8sMetadata","color","rows","useQueryParamsForSimpleFiltering","forceUpdateLiveAndDelayed","tableActions","row","nameDisplay","description","name","components","ResourceTable","Loading","Masthead","AsyncButton","Banner","fetch","this","allDrivers","$store","dispatch","type","KONTAINER_DRIVER","root","data","canRefreshK8sMetadata","getters","showDeprecationBanner","isAdminUser","computed","methods","buttonDone","url","method","err","title","__exports__","render"],"ignoreList":[],"sourceRoot":""}