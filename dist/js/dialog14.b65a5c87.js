(self["webpackChunkcluster_log_extension"]=self["webpackChunkcluster_log_extension"]||[]).push([[9996],{6726:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>y});var a=r(20641),s=r(90033);const i={class:"text-default-text"},n={class:"pl-10 pr-10"},c={class:"text info mb-10 mt-20"};function o(t,e,r,o,l,d){const p=(0,a.g2)("Banner"),v=(0,a.g2)("AsyncButton"),u=(0,a.g2)("Card"),h=(0,a.gN)("clean-html");return(0,a.uX)(),(0,a.Wv)(u,{class:"prompt-deactivate","show-highlight-border":!1,"data-testid":"prompt-deactivate"},{title:(0,a.k6)(()=>[(0,a.Lk)("h4",i,(0,s.v_)(t.t("drivers.deactivate.title")),1)]),body:(0,a.k6)(()=>[(0,a.Lk)("div",n,[(0,a.Lk)("div",c,[(0,a.bo)((0,a.Lk)("span",null,null,512),[[h,d.formattedText]])]),e[1]||(e[1]=(0,a.eW)()),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.errors,(t,e)=>((0,a.uX)(),(0,a.Wv)(p,{key:e,color:"error",label:t,"data-testid":"deactivate-driver-error-banner"},null,8,["label"]))),128))])]),actions:(0,a.k6)(()=>[(0,a.Lk)("button",{class:"btn role-secondary",onClick:e[0]||(e[0]=(...t)=>d.close&&d.close(...t))},(0,s.v_)(t.t("generic.cancel")),1),e[2]||(e[2]=(0,a.eW)()),e[3]||(e[3]=(0,a.Lk)("div",{class:"spacer"},null,-1)),e[4]||(e[4]=(0,a.eW)()),(0,a.bF)(v,{mode:"deactivate",class:"btn bg-error ml-10","data-testid":"deactivate-driver-confirm",onClick:d.apply},null,8,["onClick"])]),_:1,__:[5,6]})}var l=r(72268),d=r(40949),p=r(14492),v=r(37447),u=r(72140),h=r(66278);const m={emits:["close"],components:{Card:d.Z,AsyncButton:l.A,Banner:p.l},props:{drivers:{type:Array,required:!0},driverType:{type:String,required:!0}},data(){return{errors:[]}},computed:{formattedText(){const t=this.drivers.map(t=>t.nameDisplay),e=t.length,r=t.length>5?t.length-5:0,a=this.t("drivers.deactivate.andOthers",{count:r}),s=(0,u.Nr)(t,a,this.t,!1),i=this.t("drivers.deactivate.warningDrivers",{names:s,count:e});return this.t("drivers.deactivate.warning",{warningDrivers:i,count:e})},...(0,h.L8)({t:"i18n/t"})},methods:{resourceNames:u.Nr,close(t){t&&"function"===typeof t&&t(!0),this.$emit("close")},async apply(t){try{await Promise.all(this.drivers.map(t=>this.$store.dispatch("rancher/request",{url:`v3/${this.driverType}/${escape(t.id)}?action=deactivate`,method:"POST"}))),this.close(t)}catch(e){this.errors=(0,v.rz)(e),t(!1)}}}};r(46454);var g=r(66262);const f=(0,g.A)(m,[["render",o]]),y=f},46454:(t,e,r)=>{var a=r(89384);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var s=r(99548).A;s("fd685578",a,!0,{sourceMap:!1,shadowMode:!1})},89384:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>l});var a=r(31601),s=r.n(a),i=r(76314),n=r.n(i),c=r(5111),o=n()(s());o.i(c.A),o.push([t.id,".prompt-deactivate.card-container{box-shadow:none}.prompt-deactivate #confirm{width:90%;margin-left:3px}.prompt-deactivate .actions{text-align:right}.prompt-deactivate .card-actions{display:flex}.prompt-deactivate .card-actions .spacer{flex:1}",""]);const l=o}}]);
//# sourceMappingURL=dialog14.b65a5c87.js.map