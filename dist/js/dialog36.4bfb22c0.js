(self["webpackChunkcluster_log_extension"]=self["webpackChunkcluster_log_extension"]||[]).push([[6280],{8454:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var o=a(31601),s=a.n(o),n=a(76314),l=a.n(n),r=a(5111),c=l()(s());c.i(r.A),c.push([e.id,".card-container[data-v-19b18034]{box-shadow:none}[data-v-19b18034]  .card-actions{display:flex;justify-content:end}",""]);const p=c},36159:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>k});var o=a(20641),s=a(90033);const n={class:"text-default-text"},l={class:"mb-20"},r={class:"body"};function c(e,t,a,c,p,i){const d=(0,o.g2)("Banner"),u=(0,o.g2)("AsyncButton"),m=(0,o.g2)("Card"),h=(0,o.gN)("clean-html");return(0,o.uX)(),(0,o.Wv)(m,{class:"prompt-force-update","show-highlight-border":!1},{title:(0,o.k6)(()=>[(0,o.bo)((0,o.Lk)("h4",n,null,512),[[h,e.t("fleet.helmOp.actions.forceUpdate.promptTitle")]])]),body:(0,o.k6)(()=>[(0,o.Lk)("div",l,[(0,o.eW)((0,s.v_)(e.t("fleet.helmOp.actions.forceUpdate.promptNames"))+" ",1),(0,o.bo)((0,o.Lk)("span",r,null,512),[[h,i.resourceNames(i.names,null,e.t)]])]),t[1]||(t[1]=(0,o.eW)()),(0,o.bF)(d,{color:"info","label-key":"fleet.helmOp.actions.forceUpdate.promptWarning"},{default:(0,o.k6)(()=>[(0,o.bo)((0,o.Lk)("span",null,null,512),[[h,e.t("fleet.helmOp.actions.forceUpdate.promptWarning",{count:i.names.length},!0)]])]),_:1}),t[2]||(t[2]=(0,o.eW)()),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(p.errors,(e,t)=>((0,o.uX)(),(0,o.Wv)(d,{key:t,color:"error",label:e},null,8,["label"]))),128))]),actions:(0,o.k6)(()=>[(0,o.Lk)("button",{class:"btn role-secondary",onClick:t[0]||(t[0]=(...e)=>i.close&&i.close(...e))},(0,s.v_)(e.t("generic.cancel")),1),t[3]||(t[3]=(0,o.eW)()),t[4]||(t[4]=(0,o.Lk)("div",{class:"spacer"},null,-1)),t[5]||(t[5]=(0,o.eW)()),(0,o.bF)(u,{mode:"update",class:"btn bg-info ml-10","data-testid":"deactivate-driver-confirm",onClick:i.apply},null,8,["onClick"])]),_:1,__:[6,7]})}var p=a(66278),i=a(72140),d=a(37447),u=a(14492),m=a(40949),h=a(72268);const f={name:"HelmOpForceUpdateDialog",emits:["close"],components:{AsyncButton:h.A,Banner:u.l,Card:m.Z},props:{helmOps:{type:Array,required:!0}},data(){return{errors:[]}},computed:{...(0,p.aH)("action-menu",["toRemove"]),...(0,p.L8)({t:"i18n/t"}),names(){return this.helmOps.map(e=>e.nameDisplay)}},methods:{resourceNames:i.Nr,close(e){e&&"function"===typeof e&&e(!0),this.$emit("close")},async apply(e){try{await Promise.all(this.helmOps.map(e=>this.updateHelmOp(e))),this.close()}catch(t){this.errors=(0,d.rz)(t),e(!1)}},updateHelmOp(e){const t=e.spec.forceSyncGeneration||1;return e.spec.forceSyncGeneration=t+1,e.save()}}};a(76856);var b=a(66262);const y=(0,b.A)(f,[["render",c],["__scopeId","data-v-19b18034"]]),k=y},76856:(e,t,a)=>{var o=a(8454);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var s=a(99548).A;s("72561c12",o,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=dialog36.4bfb22c0.js.map