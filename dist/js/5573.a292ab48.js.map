{"version":3,"file":"js/5573.a292ab48.js","mappings":"gNAyFQA,MAAM,O,uIAFGC,EAAAA,YAAmB,U,WAAlC,QAAsC,c,WACtC,QAwBM,UAvBJ,QAEK,KAFL,GAEK,QADA,EAAAC,aAAW,G,wBAGP,EAAAC,QAAQC,Q,4BADjB,QAaS,G,MAXNC,MAAOC,EAAAA,EAAE,0BACVC,MAAM,Q,kBAEN,IAOM,EAPN,QAOM,a,iBANDD,EAAAA,EAAE,4BAA6B,IAClC,YAEc,GAFAE,GAAI,EAAAC,iBAAe,C,iBAC/B,IAAiC,E,iBAA9BH,EAAAA,EAAE,2BAAD,K,oDAEN,QAAI,qB,QAAA,KACJ,QAAGA,EAAAA,EAAE,2BAAD,O,4CAGR,QAKE,GAJCI,KAAM,EAAAA,KACN,YAAW,EAAAC,SACZ,aAAW,WACV,UAAO,YAAGC,GAAQ,EAAAC,KAAKD,EAAIE,M,iHArGlC,MAAMC,EAAW,KAAWC,YAE5B,GACEC,WAAY,CACVC,eAAc,IAAEC,OAAM,IAAEC,QAAO,KAGjC,WAAMC,GACJ,MAAMC,QAAkB,EAAAC,EAAA,IAAkBC,KAAKC,QAE/C,GAAMH,EAAUI,gBACd,OAAOF,KAAKG,QAAQC,QAAQN,EAAUI,iBAGxCF,KAAK,WAAaF,EAAUnB,QAC5BqB,KAAK,YAAcF,EAAUO,QAC/B,EAEA,IAAAC,GACE,MAAO,CAEL3B,SAAU,EACV0B,SAAU,KAEd,EAEAE,SAAU,CACR,IAAArB,GACE,OAAO,EAAAsB,EAAA,IAAOR,KAAKK,SAAU,CAAC,YAAa,eAC7C,EAEA,WAAA3B,GACE,OAAOsB,KAAKC,OAAOQ,QAAQ,qBAAqBT,KAAKU,OAAQ,EAC/D,EAEA,eAAAzB,GACE,MAAO,CACL0B,KAAQ,6BACRC,OAAQ,CACNC,QAASb,KAAKc,OAAOF,OAAOC,QAASE,QAAS,OAAQxB,SAAU,KAAWyB,MAGjF,EAEA,OAAAC,GACE,OAAOjB,KAAKC,OAAOQ,QAAQ,gBAAgBlB,EAC7C,EAEA,MAAAmB,GACE,OAAOV,KAAKC,OAAOQ,QAAQ,GAAIT,KAAKiB,qBAAsB1B,EAC5D,GAGF2B,QAAS,CACP,QAAA/B,CAASC,GACP,MAAM+B,EAAQ,CAAC,OAAQ,QAAS,OAAQ,QAElCC,EAAMD,EAAME,QAAQjC,EAAIkC,YAE9B,OAAc,IAATF,EACI,SAGF,QAASA,EAAM,GACxB,EAEA,IAAA/B,CAAKC,GACHU,KAAKG,QAAQoB,KAAK,CAChBZ,KAAQ,2BACRC,OAAQ,CAAEtB,MACVkC,MAAQ,CAAE,CAAC,KAAO,OAEtB,I,eC5EJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,G","sources":["webpack://cluster-log-extension/./node_modules/@rancher/shell/pages/c/_cluster/auth/config/index.vue","webpack://cluster-log-extension/./node_modules/@rancher/shell/pages/c/_cluster/auth/config/index.vue?8472"],"sourcesContent":["<script>\nimport { MANAGEMENT } from '@shell/config/types';\nimport SelectIconGrid from '@shell/components/SelectIconGrid';\nimport { sortBy } from '@shell/utils/sort';\nimport { MODE, _EDIT } from '@shell/config/query-params';\nimport { authProvidersInfo } from '@shell/utils/auth';\nimport { Banner } from '@components/Banner';\nimport Loading from '@shell/components/Loading';\n\nconst resource = MANAGEMENT.AUTH_CONFIG;\n\nexport default {\n  components: {\n    SelectIconGrid, Banner, Loading\n  },\n\n  async fetch() {\n    const authProvs = await authProvidersInfo(this.$store);\n\n    if (!!authProvs.enabledLocation) {\n      return this.$router.replace(authProvs.enabledLocation);\n    }\n\n    this['enabled'] = authProvs.enabled;\n    this['nonLocal'] = authProvs.nonLocal;\n  },\n\n  data() {\n    return {\n      // Provided by fetch later\n      enabled:  false,\n      nonLocal: null,\n    };\n  },\n\n  computed: {\n    rows() {\n      return sortBy(this.nonLocal, ['sideLabel', 'nameDisplay']);\n    },\n\n    displayName() {\n      return this.$store.getters['type-map/labelFor'](this.schema, 2);\n    },\n\n    localUsersRoute() {\n      return {\n        name:   'c-cluster-product-resource',\n        params: {\n          cluster: this.$route.params.cluster, product: 'auth', resource: MANAGEMENT.USER\n        }\n      };\n    },\n\n    inStore() {\n      return this.$store.getters['currentStore'](resource);\n    },\n\n    schema() {\n      return this.$store.getters[`${ this.inStore }/schemaFor`](resource);\n    }\n  },\n\n  methods: {\n    colorFor(row) {\n      const types = ['ldap', 'oauth', 'saml', 'oidc'];\n\n      const idx = types.indexOf(row.configType);\n\n      if ( idx === -1 ) {\n        return 'color8';\n      }\n\n      return `color${ idx + 1 }`;\n    },\n\n    goTo(id) {\n      this.$router.push({\n        name:   'c-cluster-auth-config-id',\n        params: { id },\n        query:  { [MODE]: _EDIT }\n      });\n    },\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <h1 class=\"m-0\">\n      {{ displayName }}\n    </h1>\n    <Banner\n      v-if=\"!enabled.length\"\n      :label=\"t('authConfig.noneEnabled')\"\n      color=\"info\"\n    >\n      <div>\n        {{ t('authConfig.localEnabled') }}\n        <router-link :to=\"localUsersRoute\">\n          {{ t('authConfig.manageLocal') }}\n        </router-link>\n        <br>\n        {{ t('authConfig.noneEnabled') }}\n      </div>\n    </Banner>\n    <SelectIconGrid\n      :rows=\"rows\"\n      :color-for=\"colorFor\"\n      name-field=\"provider\"\n      @clicked=\"(row) => goTo(row.id)\"\n    />\n  </div>\n</template>\n","import { render } from \"./index.vue?vue&type=template&id=0944ae93\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../../../vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","$fetchState","displayName","enabled","length","label","t","color","to","localUsersRoute","rows","colorFor","row","goTo","id","resource","AUTH_CONFIG","components","SelectIconGrid","Banner","Loading","fetch","authProvs","auth","this","$store","enabledLocation","$router","replace","nonLocal","data","computed","sort","getters","schema","name","params","cluster","$route","product","USER","inStore","methods","types","idx","indexOf","configType","push","query","__exports__","render"],"ignoreList":[],"sourceRoot":""}