{"version":3,"file":"js/823.3873b6f1.js","mappings":"+RA4FY,EAAAA,S,WADV,QAsByB,G,MApBtBA,OAAQ,EAAAA,OACRC,QAAS,EAAAC,aACT,qBAAoB,EAAAC,kBAErB,YAAU,KACTC,QAAQ,EACR,iBAAe,EACf,eAAa,EACbC,WAAW,EACX,gBAAe,I,CAEC,gBAAY,QAC3B,IAMc,EANd,QAMc,GALZ,cAAY,cACXC,GAAI,EAAAC,cACLC,MAAM,e,kBAEN,IAA0C,EAA1C,QAA0C,qBAAjCC,EAAAA,EAAE,uBAAD,K,0JArGlB,MAAMC,EAAS,IACV,KACEC,eAAe,EACpBC,MAAO,KAGHV,EAAe,CACnBQ,EACA,KACA,KACA,KAAM,CACJG,KAAa,OACbC,MAAa,OACbC,SAAa,8CACbC,MAAa,YACbC,KAAa,iBACbC,UAAa,OACbN,MAAa,IACbO,aAAa,IAIjB,GACEC,WAAY,CAAEC,uBAAsB,KAEpC,IAAAC,GACE,MAAO,CACLtB,OAAmB,KACnBuB,OAAmB,GACnBrB,eACAC,kBAAmB,KACnBI,cAAmB,CACjBM,KAAQ,6BACRW,OAAQ,CACNC,QAAU,OACVC,SAAU,OAIlB,EAEA,WAAAC,GACE,MAAM3B,EAAS4B,KAAKC,OAAOC,QAAQ,qBAAqB,MAElD3B,EAAoBH,EAAS,CACjCU,EACA,KACA,KACA,IACK,KACHS,aAAa,GAEf,KACA,MACA,QAA0B,QAASnB,EAAQ4B,KAAKC,OAAOC,SAAS,IAC9D,GAEJF,KAAK5B,OAASA,EACd4B,KAAKzB,kBAAoBA,CAC3B,EAEA,OAAA4B,GACEH,KAAKI,oBAAsBJ,KAAKK,QAAQC,WAAWN,KAAKO,cAC1D,EAEAC,QAAS,CACP,mBAAMD,CAAc7B,EAAI+B,EAAMC,GACxBV,KAAKW,OAAO1B,OAASP,EAAGO,YACpBe,KAAKC,OAAOW,SAAS,qBAAsB,MAGnDF,GACF,GAGF,aAAAG,GACEb,KAAKI,qBACP,G,wBC/EF,MAAMU,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,G,mHCLIC,EAA0B,IAA4B,KAC1DA,EAAwBC,EAAE,KAE1BD,EAAwBE,KAAK,CAACC,EAAOC,GAAI,yFAA0F,KAEnI,S,kBCNA,IAAIC,EAAU,EAAQ,OACnBA,EAAQC,aAAYD,EAAUA,EAAQE,SACnB,kBAAZF,IAAsBA,EAAU,CAAC,CAACF,EAAOC,GAAIC,EAAS,MAC7DA,EAAQG,SAAQL,EAAOM,QAAUJ,EAAQG,QAE5C,IAAIE,EAAM,WACGA,EAAI,WAAYL,GAAS,EAAM,CAAC,WAAY,EAAM,YAAa,G","sources":["webpack://cluster-log-extension/./node_modules/@rancher/shell/pages/c/_cluster/explorer/EventsTable.vue","webpack://cluster-log-extension/./node_modules/@rancher/shell/pages/c/_cluster/explorer/EventsTable.vue?3f7a","webpack://cluster-log-extension/./node_modules/@rancher/shell/pages/c/_cluster/explorer/EventsTable.vue?bc1b","webpack://cluster-log-extension/./node_modules/@rancher/shell/pages/c/_cluster/explorer/EventsTable.vue?5244"],"sourcesContent":["<script>\n\nimport { MESSAGE, NAME, OBJECT, REASON } from '@shell/config/table-headers';\nimport { EVENT } from '@shell/config/types';\nimport PaginatedResourceTable from '@shell/components/PaginatedResourceTable';\nimport { STEVE_EVENT_FIRST_SEEN, STEVE_EVENT_LAST_SEEN, STEVE_EVENT_OBJECT, STEVE_NAME_COL } from '@shell/config/pagination-table-headers';\nimport { headerFromSchemaColString } from '@shell/store/type-map.utils';\nimport { NAME as EXPLORER } from '@shell/config/product/explorer';\n\nconst reason = {\n  ...REASON,\n  ...{ canBeVariable: true },\n  width: 130,\n};\n\nconst eventHeaders = [\n  reason,\n  OBJECT,\n  MESSAGE,\n  NAME, {\n    name:        'date',\n    label:       'Date',\n    labelKey:    'clusterIndexPage.sections.events.date.label',\n    value:       'timestamp',\n    sort:        'timestamp:desc',\n    formatter:   'Date',\n    width:       220,\n    defaultSort: true,\n  },\n];\n\nexport default {\n  components: { PaginatedResourceTable },\n\n  data() {\n    return {\n      schema:            null,\n      events:            [],\n      eventHeaders,\n      paginationHeaders: null,\n      allEventsLink:     {\n        name:   'c-cluster-product-resource',\n        params: {\n          product:  EXPLORER,\n          resource: EVENT,\n        }\n      }\n    };\n  },\n\n  beforeMount() {\n    const schema = this.$store.getters['cluster/schemaFor'](EVENT);\n\n    const paginationHeaders = schema ? [\n      reason,\n      STEVE_EVENT_OBJECT,\n      MESSAGE,\n      {\n        ...STEVE_NAME_COL,\n        defaultSort: false,\n      },\n      STEVE_EVENT_FIRST_SEEN,\n      STEVE_EVENT_LAST_SEEN,\n      headerFromSchemaColString('Count', schema, this.$store.getters, true),\n    ] : [];\n\n    this.schema = schema;\n    this.paginationHeaders = paginationHeaders;\n  },\n\n  mounted() {\n    this.dismissRouteHandler = this.$router.beforeEach(this.onRouteChange);\n  },\n\n  methods: {\n    async onRouteChange(to, from, next) {\n      if (this.$route.name !== to.name) {\n        await this.$store.dispatch('cluster/forgetType', EVENT);\n      }\n\n      next();\n    }\n  },\n\n  beforeUnmount() {\n    this.dismissRouteHandler();\n  }\n};\n</script>\n\n<template>\n  <PaginatedResourceTable\n    v-if=\"!!schema\"\n    :schema=\"schema\"\n    :headers=\"eventHeaders\"\n    :pagination-headers=\"paginationHeaders\"\n\n    key-field=\"id\"\n    :search=\"false\"\n    :table-actions=\"false\"\n    :row-actions=\"false\"\n    :groupable=\"false\"\n    :rows-per-page=\"10\"\n  >\n    <template v-slot:header-right>\n      <router-link\n        data-testid=\"events-link\"\n        :to=\"allEventsLink\"\n        class=\"events-link\"\n      >\n        <span>{{ t('glance.eventsTable') }}</span>\n      </router-link>\n    </template>\n  </PaginatedResourceTable>\n</template>\n\n<style lang=\"scss\" scoped>\n.events-link {\n  align-self: center;\n  padding-right: 20px;\n  white-space: nowrap;\n}\n</style>\n","import { render } from \"./EventsTable.vue?vue&type=template&id=6a2f0f0a&scoped=true\"\nimport script from \"./EventsTable.vue?vue&type=script&lang=js\"\nexport * from \"./EventsTable.vue?vue&type=script&lang=js\"\n\nimport \"./EventsTable.vue?vue&type=style&index=0&id=6a2f0f0a&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../../vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6a2f0f0a\"]])\n\nexport default __exports__","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../../../../css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../../../../../vue-loader/dist/stylePostLoader.js!../../../../../../postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../../../../../postcss-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../../../../../xterm/css/xterm.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.events-link[data-v-6a2f0f0a]{align-self:center;padding-right:20px;white-space:nowrap}`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../../../../../vue-loader/dist/stylePostLoader.js!../../../../../../postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../../../../../postcss-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../../../../../sass-loader/dist/cjs.js??clonedRuleSet-22.use[4]!../../../../../../cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../../../../vue-loader/dist/index.js??ruleSet[0].use[1]!./EventsTable.vue?vue&type=style&index=0&id=6a2f0f0a&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"c5a0ba74\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"names":["schema","headers","eventHeaders","paginationHeaders","search","groupable","to","allEventsLink","class","t","reason","canBeVariable","width","name","label","labelKey","value","sort","formatter","defaultSort","components","PaginatedResourceTable","data","events","params","product","resource","beforeMount","this","$store","getters","mounted","dismissRouteHandler","$router","beforeEach","onRouteChange","methods","from","next","$route","dispatch","beforeUnmount","__exports__","render","___CSS_LOADER_EXPORT___","i","push","module","id","content","__esModule","default","locals","exports","add"],"ignoreList":[],"sourceRoot":""}