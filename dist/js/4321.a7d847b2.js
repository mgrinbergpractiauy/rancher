(self["webpackChunkcluster_log_extension"]=self["webpackChunkcluster_log_extension"]||[]).push([[4321],{33838:(e,a,l)=>{var t=l(61356);t.__esModule&&(t=t.default),"string"===typeof t&&(t=[[e.id,t,""]]),t.locals&&(e.exports=t.locals);var n=l(99548).A;n("123ca551",t,!0,{sourceMap:!1,shadowMode:!1})},37526:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>d});var t=l(31601),n=l.n(t),i=l(76314),r=l.n(i),o=l(5111),s=r()(n());s.i(o.A),s.push([e.id,".overlay[data-v-7d44a287]{width:100%;height:100%;position:absolute;top:0;left:0;background-color:var(--overlay-bg);z-index:1}.ui-perf-setting P[data-v-7d44a287]{line-height:1.25;margin-bottom:10px}.ui-perf-setting .underline[data-v-7d44a287]{text-decoration:underline}.input[data-v-7d44a287]{max-width:25%}",""]);const d=s},61356:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>d});var t=l(31601),n=l.n(t),i=l(76314),r=l.n(i),o=l(5111),s=r()(n());s.i(o.A),s.push([e.id,".advanced[data-v-2f23a389]{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;line-height:40px;font-size:15px;font-weight:500}.advanced .disabled[data-v-2f23a389]{cursor:not-allowed}.content[data-v-2f23a389]{background:var(--nav-active);padding:10px;margin-top:6px;border-radius:4px}",""]);const d=s},79484:(e,a,l)=>{var t=l(37526);t.__esModule&&(t=t.default),"string"===typeof t&&(t=[[e.id,t,""]]),t.locals&&(e.exports=t.locals);var n=l(99548).A;n("c08864fe",t,!0,{sourceMap:!1,shadowMode:!1})},94321:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>q});var t=l(20641),n=l(90033);const i={key:1},r={class:"mb-20"},o={class:"ui-perf-setting"},s={class:"mt-20"},d={class:"ml-20"},c={class:"mt-40"},u={class:"mt-20"},b={id:"ssp-setting"},p={class:"mt-20"},v={class:"ml-20"},m={class:"mt-40"},h={class:"ml-20"},g={class:"mt-40"},f={class:"ml-20"},k={class:"ml-20 mb-10"},L={class:"ml-20"},y={class:"ml-20"},W={class:"mt-40"},C={class:"mt-20"},_={key:0};function F(e,a,l,F,S,T){const x=(0,t.g2)("Loading"),w=(0,t.g2)("Checkbox"),R=(0,t.g2)("LabeledInput"),E=(0,t.g2)("Banner"),P=(0,t.g2)("Collapse"),U=(0,t.g2)("UnitInput"),A=(0,t.g2)("AsyncButton"),N=(0,t.gN)("clean-html"),I=(0,t.gN)("t");return e.$fetchState.pending?((0,t.uX)(),(0,t.Wv)(x,{key:0})):((0,t.uX)(),(0,t.CE)("div",i,[(0,t.Lk)("h1",r,(0,n.v_)(e.t("performance.label")),1),a[60]||(a[60]=(0,t.eW)()),(0,t.Lk)("div",null,[(0,t.Lk)("div",o,[(0,t.Lk)("div",s,[(0,t.Lk)("h2",null,(0,n.v_)(e.t("performance.inactivity.title")),1),a[17]||(a[17]=(0,t.eW)()),(0,t.Lk)("p",null,(0,n.v_)(e.t("performance.inactivity.description")),1),a[18]||(a[18]=(0,t.eW)()),(0,t.bF)(w,{value:S.value.inactivity.enabled,"onUpdate:value":a[0]||(a[0]=e=>S.value.inactivity.enabled=e),mode:T.mode,label:e.t("performance.inactivity.checkboxLabel"),class:"mt-10 mb-20",primary:!0},null,8,["value","mode","label"]),a[19]||(a[19]=(0,t.eW)()),(0,t.Lk)("div",d,[(0,t.bF)(R,{value:S.value.inactivity.threshold,"onUpdate:value":a[1]||(a[1]=e=>S.value.inactivity.threshold=e),"data-testid":"inactivity-threshold",mode:T.mode,label:e.t("performance.inactivity.inputLabel"),disabled:!S.value.inactivity.enabled,class:"input mb-10",type:"number",min:"0",rules:[T.validateInactivityThreshold]},null,8,["value","mode","label","disabled","rules"]),a[16]||(a[16]=(0,t.eW)()),(0,t.bo)((0,t.Lk)("span",{class:(0,n.C4)({"text-muted":!S.value.incrementalLoading.enabled})},null,2),[[N,e.t("performance.inactivity.information",{},!0)]])])]),a[53]||(a[53]=(0,t.eW)()),(0,t.Lk)("div",c,[(0,t.Lk)("h2",null,(0,n.v_)(e.t("performance.websocketNotification.label")),1),a[20]||(a[20]=(0,t.eW)()),(0,t.Lk)("p",null,(0,n.v_)(e.t("performance.websocketNotification.description")),1),a[21]||(a[21]=(0,t.eW)()),(0,t.bF)(w,{value:S.value.disableWebsocketNotification,"onUpdate:value":a[2]||(a[2]=e=>S.value.disableWebsocketNotification=e),mode:T.mode,label:e.t("performance.websocketNotification.checkboxLabel"),class:"mt-10 mb-20",primary:!0},null,8,["value","mode","label"])]),a[54]||(a[54]=(0,t.eW)()),(0,t.Lk)("div",u,[(0,t.Lk)("h2",b,(0,n.v_)(e.t("performance.serverPagination.label")),1),a[22]||(a[22]=(0,t.eW)()),(0,t.Lk)("p",null,(0,n.v_)(e.t("performance.serverPagination.description")),1),a[23]||(a[23]=(0,t.eW)()),(0,t.bF)(E,{color:"warning"},{default:(0,t.k6)(()=>[(0,t.bo)((0,t.Lk)("div",null,null,512),[[N,e.t("performance.serverPagination.featureFlag",{ffUrl:S.ffUrl},!0)]])]),_:1}),a[24]||(a[24]=(0,t.eW)()),(0,t.bF)(P,{title:e.t("performance.serverPagination.applicable"),open:T.steveCacheEnabled&&S.ssPApplicableTypesOpen,isDisabled:!T.steveCacheEnabled,"onUpdate:open":a[3]||(a[3]=e=>S.ssPApplicableTypesOpen=!S.ssPApplicableTypesOpen)},{default:(0,t.k6)(()=>[(0,t.bo)((0,t.Lk)("p",{class:(0,n.C4)({"text-muted":!S.value.serverPagination.enabled})},null,2),[[N,T.sspApplicableResources]])]),_:1},8,["title","open","isDisabled"])]),a[55]||(a[55]=(0,t.eW)()),(0,t.Lk)("div",p,[(0,t.Lk)("h2",null,(0,n.v_)(e.t("performance.incrementalLoad.label")),1),a[26]||(a[26]=(0,t.eW)()),(0,t.bF)(E,{color:"warning"},{default:(0,t.k6)(()=>[(0,t.bo)((0,t.Lk)("span",null,null,512),[[N,e.t("performance.deprecatedForSSP",{setting:e.t("performance.incrementalLoad.label")},!0)]])]),_:1}),a[27]||(a[27]=(0,t.eW)()),(0,t.Lk)("p",null,(0,n.v_)(e.t("performance.incrementalLoad.description")),1),a[28]||(a[28]=(0,t.eW)()),(0,t.bF)(w,{value:S.value.incrementalLoading.enabled,mode:T.mode,label:e.t("performance.incrementalLoad.checkboxLabel"),class:"mt-10 mb-20",primary:!0,"onUpdate:value":a[4]||(a[4]=e=>T.compatibleWarning("incrementalLoading",e))},null,8,["value","mode","label"]),a[29]||(a[29]=(0,t.eW)()),(0,t.Lk)("div",v,[(0,t.Lk)("p",{class:(0,n.C4)({"text-muted":!S.value.incrementalLoading.enabled})},(0,n.v_)(e.t("performance.incrementalLoad.setting")),3),a[25]||(a[25]=(0,t.eW)()),(0,t.bF)(R,{value:S.value.incrementalLoading.threshold,"onUpdate:value":a[5]||(a[5]=e=>S.value.incrementalLoading.threshold=e),mode:T.mode,label:e.t("performance.incrementalLoad.inputLabel"),disabled:!S.value.incrementalLoading.enabled,class:"input",type:"number",min:"0"},null,8,["value","mode","label","disabled"])])]),a[56]||(a[56]=(0,t.eW)()),(0,t.Lk)("div",m,[(0,t.bo)((0,t.Lk)("h2",null,null,512),[[I,"performance.manualRefresh.label"]]),a[31]||(a[31]=(0,t.eW)()),(0,t.bF)(E,{color:"warning"},{default:(0,t.k6)(()=>[(0,t.bo)((0,t.Lk)("span",null,null,512),[[N,e.t("performance.deprecatedForSSP",{setting:e.t("performance.manualRefresh.label")},!0)]])]),_:1}),a[32]||(a[32]=(0,t.eW)()),(0,t.Lk)("p",null,(0,n.v_)(e.t("performance.manualRefresh.description")),1),a[33]||(a[33]=(0,t.eW)()),(0,t.bF)(w,{value:S.value.manualRefresh.enabled,mode:T.mode,label:e.t("performance.manualRefresh.checkboxLabel"),class:"mt-10 mb-20",primary:!0,"onUpdate:value":a[6]||(a[6]=e=>T.compatibleWarning("manualRefresh",e))},null,8,["value","mode","label"]),a[34]||(a[34]=(0,t.eW)()),(0,t.Lk)("div",h,[(0,t.Lk)("p",{class:(0,n.C4)({"text-muted":!S.value.manualRefresh.enabled})},(0,n.v_)(e.t("performance.manualRefresh.setting")),3),a[30]||(a[30]=(0,t.eW)()),(0,t.bF)(R,{value:S.value.manualRefresh.threshold,"onUpdate:value":a[7]||(a[7]=e=>S.value.manualRefresh.threshold=e),valueModifiers:{number:!0},mode:T.mode,label:e.t("performance.manualRefresh.inputLabel"),disabled:!S.value.manualRefresh.enabled,class:"input",type:"number",min:"0"},null,8,["value","mode","label","disabled"])])]),a[57]||(a[57]=(0,t.eW)()),(0,t.Lk)("div",g,[(0,t.bo)((0,t.Lk)("h2",null,null,512),[[I,"performance.gc.label"]]),a[43]||(a[43]=(0,t.eW)()),(0,t.bF)(E,{color:"warning"},{default:(0,t.k6)(()=>[(0,t.bo)((0,t.Lk)("span",null,null,512),[[N,e.t("performance.deprecatedForSSP",{setting:e.t("performance.gc.label")},!0)]])]),_:1}),a[44]||(a[44]=(0,t.eW)()),(0,t.Lk)("p",null,(0,n.v_)(e.t("performance.gc.description")),1),a[45]||(a[45]=(0,t.eW)()),(0,t.bF)(w,{value:S.value.garbageCollection.enabled,"onUpdate:value":a[8]||(a[8]=e=>S.value.garbageCollection.enabled=e),mode:T.mode,label:e.t("performance.gc.checkboxLabel"),class:"mt-10 mb-20",primary:!0},null,8,["value","mode","label"]),a[46]||(a[46]=(0,t.eW)()),(0,t.Lk)("div",f,[(0,t.Lk)("h3",null,(0,n.v_)(e.t("performance.gc.whenRun.description")),1),a[40]||(a[40]=(0,t.eW)()),(0,t.Lk)("div",k,[(0,t.bF)(w,{value:S.value.garbageCollection.enabledInterval,"onUpdate:value":a[9]||(a[9]=e=>S.value.garbageCollection.enabledInterval=e),mode:T.mode,class:(0,n.C4)([{"text-muted":!S.value.garbageCollection.enabled},"mt-10 mb-10"]),label:e.t("performance.gc.whenRun.intervalCheckBox.label"),disabled:!S.value.garbageCollection.enabled,primary:!0},null,8,["value","mode","class","label","disabled"]),a[35]||(a[35]=(0,t.eW)()),(0,t.Lk)("div",L,[(0,t.bF)(U,{value:S.value.garbageCollection.interval,"onUpdate:value":a[10]||(a[10]=e=>S.value.garbageCollection.interval=e),mode:T.mode,suffix:e.t("suffix.seconds",{count:S.value.garbageCollection.interval}),label:e.t("performance.gc.whenRun.interval.inputLabel"),disabled:!S.value.garbageCollection.enabled||!S.value.garbageCollection.enabledInterval,min:"30",class:"input"},null,8,["value","mode","suffix","label","disabled"])]),a[36]||(a[36]=(0,t.eW)()),(0,t.bF)(w,{value:S.value.garbageCollection.enabledOnNavigate,"onUpdate:value":a[11]||(a[11]=e=>S.value.garbageCollection.enabledOnNavigate=e),mode:T.mode,class:(0,n.C4)([{"text-muted":!S.value.garbageCollection.enabled},"mt-20 mb-10"]),label:e.t("performance.gc.whenRun.route.description"),disabled:!S.value.garbageCollection.enabled,primary:!0},null,8,["value","mode","class","label","disabled"])]),a[41]||(a[41]=(0,t.eW)()),(0,t.Lk)("h3",null,(0,n.v_)(e.t("performance.gc.howRun.description")),1),a[42]||(a[42]=(0,t.eW)()),(0,t.Lk)("div",y,[(0,t.Lk)("p",{class:(0,n.C4)({"text-muted":!S.value.garbageCollection.enabled})},(0,n.v_)(e.t("performance.gc.howRun.age.description",{},!0)),3),a[37]||(a[37]=(0,t.eW)()),(0,t.bF)(U,{value:S.value.garbageCollection.ageThreshold,"onUpdate:value":a[12]||(a[12]=e=>S.value.garbageCollection.ageThreshold=e),mode:T.mode,suffix:e.t("suffix.seconds",{count:S.value.garbageCollection.ageThreshold}),label:e.t("performance.gc.howRun.age.inputLabel"),disabled:!S.value.garbageCollection.enabled,min:"30",class:"input"},null,8,["value","mode","suffix","label","disabled"]),a[38]||(a[38]=(0,t.eW)()),(0,t.Lk)("p",{class:(0,n.C4)(["mt-20",{"text-muted":!S.value.garbageCollection.enabled}])},(0,n.v_)(e.t("performance.gc.howRun.count.description")),3),a[39]||(a[39]=(0,t.eW)()),(0,t.bF)(R,{value:S.value.garbageCollection.countThreshold,"onUpdate:value":a[13]||(a[13]=e=>S.value.garbageCollection.countThreshold=e),valueModifiers:{number:!0},mode:T.mode,label:e.t("performance.gc.howRun.count.inputLabel"),disabled:!S.value.garbageCollection.enabled,class:"input",type:"number",min:"0"},null,8,["value","mode","label","disabled"])])])]),a[58]||(a[58]=(0,t.eW)()),(0,t.Lk)("div",W,[(0,t.Lk)("h2",null,(0,n.v_)(e.t("performance.nsFiltering.label")),1),a[47]||(a[47]=(0,t.eW)()),(0,t.bF)(E,{color:"warning"},{default:(0,t.k6)(()=>[(0,t.bo)((0,t.Lk)("span",null,null,512),[[N,e.t("performance.deprecatedForSSP",{setting:e.t("performance.nsFiltering.label")},!0)]])]),_:1}),a[48]||(a[48]=(0,t.eW)()),(0,t.Lk)("p",null,(0,n.v_)(e.t("performance.nsFiltering.description")),1),a[49]||(a[49]=(0,t.eW)()),(0,t.bF)(w,{value:S.value.forceNsFilterV2.enabled,mode:T.mode,label:e.t("performance.nsFiltering.checkboxLabel"),class:"mt-10 mb-20",primary:!0,"onUpdate:value":a[14]||(a[14]=e=>T.compatibleWarning("forceNsFilterV2",e))},null,8,["value","mode","label"])]),a[59]||(a[59]=(0,t.eW)()),(0,t.Lk)("div",C,[(0,t.Lk)("h2",null,(0,n.v_)(e.t("performance.advancedWorker.label")),1),a[50]||(a[50]=(0,t.eW)()),(0,t.bF)(E,{color:"warning"},{default:(0,t.k6)(()=>[(0,t.bo)((0,t.Lk)("span",null,null,512),[[N,e.t("performance.deprecatedForSSP",{setting:e.t("performance.advancedWorker.label")},!0)]])]),_:1}),a[51]||(a[51]=(0,t.eW)()),(0,t.Lk)("p",null,(0,n.v_)(e.t("performance.advancedWorker.description")),1),a[52]||(a[52]=(0,t.eW)()),(0,t.bF)(w,{value:S.value.advancedWorker.enabled,"onUpdate:value":a[15]||(a[15]=e=>S.value.advancedWorker.enabled=e),mode:T.mode,label:e.t("performance.advancedWorker.checkboxLabel"),class:"mt-10 mb-20",primary:!0},null,8,["value","mode","label"])])])]),a[61]||(a[61]=(0,t.eW)()),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(S.errors,(e,a)=>((0,t.uX)(),(0,t.Wv)(E,{key:a,color:"error",label:e},null,8,["label"]))),128)),a[62]||(a[62]=(0,t.eW)()),"edit"===T.mode?((0,t.uX)(),(0,t.CE)("div",_,[(0,t.bF)(A,{"data-testid":"performance__save-btn",class:"pull-right mt-20",mode:"apply",disabled:!T.canSave,onClick:T.save},null,8,["disabled","onClick"])])):(0,t.Q3)("",!0)]))}var S=l(35800),T=l(57090),x=l(72268),w=l(14492),R=l(16372),E=l(55823),P=l(95822),U=l(46405),A=l(25563),N=l(73942),I=l(853),M=l(52212);const $=["disabled"],O={key:0,class:"icon icon-chevron-down","data-testid":"collapse-icon-down"},V={key:1,class:"icon icon-chevron-right","data-testid":"collapse-icon-right"},G={key:0,class:"content","data-testid":"collapse-content"};function X(e,a,l,i,r,o){return(0,t.uX)(),(0,t.CE)("div",{class:(0,n.C4)(["collapse",{disabled:l.isDisabled}])},[(0,t.RG)(e.$slots,"title",{},()=>[(0,t.Lk)("div",{class:(0,n.C4)(["advanced text-link",{disabled:l.isDisabled}]),disabled:l.isDisabled,"data-testid":"collapse-div",onClick:a[0]||(a[0]=(...e)=>o.showAdvanced&&o.showAdvanced(...e))},[l.open?((0,t.uX)(),(0,t.CE)("i",O)):((0,t.uX)(),(0,t.CE)("i",V)),(0,t.eW)(" "+(0,n.v_)(l.title),1)],10,$)],!0),a[1]||(a[1]=(0,t.eW)()),l.open?((0,t.uX)(),(0,t.CE)("div",G,[(0,t.RG)(e.$slots,"default",{},void 0,!0)])):(0,t.Q3)("",!0)],2)}const B={name:"Collapse",emits:["update:open"],props:{open:{type:Boolean,default:!0},title:{type:String,default:""},isDisabled:{type:Boolean,default:!1}},methods:{showAdvanced(){this.$emit("update:open",!this.open)}}};l(33838);var D=l(66262);const H=(0,D.A)(B,[["render",X],["__scopeId","data-v-2f23a389"]]),J=H,j={incrementalLoading:["forceNsFilterV2"],manualRefresh:["forceNsFilterV2"],forceNsFilterV2:["incrementalLoading","manualRefresh"]},z={incrementalLoading:"incrementalLoad",manualRefresh:"manualRefresh",forceNsFilterV2:"nsFiltering",serverPagination:"serverPagination"},Q={components:{Checkbox:S.S,Loading:T.A,AsyncButton:x.A,Banner:w.l,LabeledInput:R.o,UnitInput:A.A,Collapse:J},async fetch(){try{this.uiPerfSetting=await this.$store.dispatch("management/find",{type:E.Mc.SETTING,id:P.HG.UI_PERFORMANCE})}catch{this.uiPerfSetting=await this.$store.dispatch("management/create",{type:E.Mc.SETTING},{root:!0}),this.uiPerfSetting.value=JSON.stringify(P.$8),this.uiPerfSetting.metadata={name:P.HG.UI_PERFORMANCE}}try{this.authUserTTL=await this.$store.dispatch("management/find",{type:E.Mc.SETTING,id:P.HG.AUTH_USER_SESSION_TTL_MINUTES})}catch{}const e=this.uiPerfSetting?.value||JSON.stringify(P.$8);this.value={...P.$8,...JSON.parse(e)},this.gcStartedEnabled=this.value.garbageCollection.enabled},data(){return{uiPerfSetting:null,authUserTTL:null,bannerVal:{},value:{},errors:[],gcStartedEnabled:null,isInactivityThresholdValid:!1,ffUrl:this.$router.resolve({name:"c-cluster-product-resource",params:{product:I.NAME,resource:E.Mc.FEATURE}}).href,ssPApplicableTypesOpen:!1}},computed:{mode(){const e=this.$store.getters["management/schemaFor"](E.Mc.SETTING);return e?.resourceMethods?.includes("PUT")?U.G5:U.nW},canSave(){return!this.value.inactivity.enabled||this.isInactivityThresholdValid},steveCacheEnabled(){return this.$store.getters["features/get"](N.STEVE_CACHE)},sspApplicableResources(){const e=[],a=M.A.getStoreSettings(this.value.serverPagination);return Object.entries(a).forEach(([a,l])=>{const t=[];l.resources.enableAll?t.push(this.t("performance.serverPagination.resources.all")):(l.resources.enableSome.enabled?.forEach(e=>{t.push(e.length?e:`${e.resource} (${e.context})`)}),l.resources.enableSome.generic&&t.push(this.t("performance.serverPagination.resources.generic",{},!0))),e.push(`Resources in store '${a}': ${t.join(", ")}`)}),e.join("<br><br>")}},methods:{validateInactivityThreshold(e){if(this.authUserTTL?.value)return parseInt(e)>parseInt(this.authUserTTL?.value)?(this.isInactivityThresholdValid=!1,this.t("performance.inactivity.authUserTTL",{current:this.authUserTTL.value})):void(this.isInactivityThresholdValid=!0);this.isInactivityThresholdValid=!0},async save(e){this.uiPerfSetting.value=JSON.stringify(this.value),this.errors=[];try{await this.uiPerfSetting.save(),this.$store.dispatch("gcPreferencesUpdated",{previouslyEnabled:this.gcStartedEnabled,newPreferences:this.value.garbageCollection},{root:!0}),this.gcStartedEnabled=this.value.garbageCollection.enabled,e(!0)}catch(a){this.errors.push(a),e(!1)}},compatibleWarning(e,a){a?(j[e]||[]).every(e=>!this.value[e].enabled)?this.value[e].enabled=!0:this.$store.dispatch("cluster/promptModal",{component:"GenericPrompt",componentProps:{applyMode:"continue",confirm:a=>{this.value[e].enabled=a},applyAction:a=>{(j[e]||[]).forEach(e=>{this.value[e].enabled=!1}),a(!0)},title:this.t("promptRemove.title",{},!0),body:this.t(`performance.${z[e]}.incompatibleDescription`,{},!0)}}):this.value[e].enabled=!1}}};l(79484);const K=(0,D.A)(Q,[["render",F],["__scopeId","data-v-7d44a287"]]),q=K}}]);
//# sourceMappingURL=4321.a7d847b2.js.map