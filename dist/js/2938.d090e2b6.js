"use strict";(self["webpackChunkcluster_log_extension"]=self["webpackChunkcluster_log_extension"]||[]).push([[2938],{12938:(e,r,a)=>{a.r(r),a.d(r,{default:()=>y});var t=a(20641),s=a(90033);const i={key:1},n={key:0,class:"description text-muted text-small"};function o(e,r,a,o,l,c){const d=(0,t.g2)("Loading"),h=(0,t.g2)("AsyncButton"),u=(0,t.g2)("Masthead"),p=(0,t.g2)("Banner"),m=(0,t.g2)("ResourceTable");return e.$fetchState.pending?((0,t.uX)(),(0,t.Wv)(d,{key:0})):((0,t.uX)(),(0,t.CE)("div",i,[(0,t.bF)(u,{schema:l.schema,resource:l.resource,"type-display":e.t("drivers.kontainer.title")},{extraActions:(0,t.k6)(()=>[l.canRefreshK8sMetadata?((0,t.uX)(),(0,t.Wv)(h,{key:0,mode:"refresh","action-label":e.t("drivers.actions.refresh"),"waiting-label":e.t("drivers.actions.refresh"),"success-label":e.t("drivers.actions.refresh"),"error-label":e.t("drivers.actions.refresh"),"data-testid":"kontainer-driver-refresh",onClick:c.refreshK8sMetadata},null,8,["action-label","waiting-label","success-label","error-label","onClick"])):(0,t.Q3)("",!0)]),_:1},8,["schema","resource","type-display"]),r[1]||(r[1]=(0,t.eW)()),l.showDeprecationBanner?((0,t.uX)(),(0,t.Wv)(p,{key:0,color:"warning","label-key":"drivers.kontainer.emberDeprecationMessage","data-testid":"kontainer-driver-ember-deprecation-banner"})):(0,t.Q3)("",!0),r[2]||(r[2]=(0,t.eW)()),(0,t.bF)(m,{schema:l.schema,rows:c.rows,"use-query-params-for-simple-filtering":l.useQueryParamsForSimpleFiltering,"force-update-live-and-delayed":l.forceUpdateLiveAndDelayed,tableActions:!0,"data-testid":"kontainer-driver-list"},{"cell:name":(0,t.k6)(({row:e})=>[(0,t.Lk)("span",null,(0,s.v_)(e.nameDisplay),1),r[0]||(r[0]=(0,t.eW)()),e.description?((0,t.uX)(),(0,t.CE)("div",n,(0,s.v_)(e.description),1)):(0,t.Q3)("",!0)]),_:1},8,["schema","rows","use-query-params-for-simple-filtering","force-update-live-and-delayed"])]))}var l=a(55823),c=a(84010),d=a(56935),h=a(72268),u=a(57090),p=a(43746),m=a(59069);const v={name:"KontainerDrivers",components:{ResourceTable:d.A,Loading:u.A,Masthead:p.A,AsyncButton:h.A,Banner:m.A},async fetch(){this.allDrivers=await this.$store.dispatch("rancher/findAll",{type:l.k$.KONTAINER_DRIVER},{root:!0})},data(){return{allDrivers:null,canRefreshK8sMetadata:!0,resource:l.k$.KONTAINER_DRIVER,schema:this.$store.getters["rancher/schemaFor"](l.k$.KONTAINER_DRIVER),useQueryParamsForSimpleFiltering:!1,forceUpdateLiveAndDelayed:10,showDeprecationBanner:(0,c.isAdminUser)(this.$store.getters)}},computed:{rows(){return this.allDrivers||[]}},methods:{async refreshK8sMetadata(e){try{await this.$store.dispatch("rancher/request",{url:"/v3/kontainerdrivers?action=refresh",method:"post",data:{}}),e(!0)}catch(r){this.$store.dispatch("growl/fromError",{title:"Error refreshing kontainer drivers",err:r},{root:!0}),e(!1)}}}};var f=a(66262);const k=(0,f.A)(v,[["render",o]]),y=k}}]);
//# sourceMappingURL=2938.d090e2b6.js.map