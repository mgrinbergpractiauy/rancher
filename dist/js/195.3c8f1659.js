(self["webpackChunkcluster_log_extension"]=self["webpackChunkcluster_log_extension"]||[]).push([[195],{195:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var a=r(20641),s=r(90033);const o={key:1},c={class:"row header mb-10"},i={class:"row"},l={key:0};function n(e,t,r,n,u,h){const d=(0,a.g2)("Loading"),m=(0,a.g2)("Banner"),p=(0,a.g2)("router-link"),b=(0,a.g2)("ResourceTable"),f=(0,a.g2)("Tab"),g=(0,a.g2)("Tabbed");return e.$fetchState.pending?((0,a.uX)(),(0,a.Wv)(d,{key:0})):((0,a.uX)(),(0,a.CE)("div",o,[(0,a.Lk)("div",c,[(0,a.Lk)("h1",null,(0,s.v_)(e.t("monitoring.routesAndReceivers")),1),t[1]||(t[1]=(0,a.eW)()),(0,a.Lk)("div",null,[(0,a.Lk)("button",{class:"btn btn-lg role-primary float right",onClick:t[0]||(t[0]=t=>e.$router.push(h.createRoute))},(0,s.v_)(e.t("resourceList.head.create")),1)])]),t[6]||(t[6]=(0,a.eW)()),(0,a.Lk)("div",i,[(0,a.bF)(m,{color:"info",label:e.t("monitoring.alertmanagerConfig.deprecationWarning")},null,8,["label"])]),t[7]||(t[7]=(0,a.eW)()),(0,a.bF)(g,{ref:"tabs","default-tab":u.initTab},{default:(0,a.k6)(()=>[(0,a.bF)(f,{name:u.routeSchema.id,label:e.$store.getters["type-map/labelFor"](u.routeSchema,2)},{default:(0,a.k6)(()=>[u.secretTo?((0,a.uX)(),(0,a.CE)("div",l,[t[3]||(t[3]=(0,a.eW)("\n          We don't support the current route format stored in alertmanager.yaml. Click\n          ",-1)),(0,a.bF)(p,{to:u.secretTo},{default:(0,a.k6)(()=>t[2]||(t[2]=[(0,a.eW)("\n            here\n          ",-1)])),_:1,__:[2]},8,["to"]),t[4]||(t[4]=(0,a.eW)(" to update manually.\n        ",-1))])):((0,a.uX)(),(0,a.Wv)(b,{key:1,schema:u.routeSchema,rows:u.routes},null,8,["schema","rows"]))]),_:1},8,["name","label"]),t[5]||(t[5]=(0,a.eW)()),(0,a.bF)(f,{name:u.receiverSchema.id,label:e.$store.getters["type-map/labelFor"](u.receiverSchema,2)},{default:(0,a.k6)(()=>[(0,a.bF)(b,{schema:u.receiverSchema,rows:u.receivers},null,8,["schema","rows"])]),_:1},8,["name","label"])]),_:1,__:[5]},8,["default-tab"])]))}var u=r(56935),h=r(57090),d=r(24935),m=r(98642),p=r(14492),b=r(55823),f=r(95194),g=r(46405);const v={name:"ListRoute",components:{Banner:p.l,Loading:h.A,ResourceTable:u.A,Tab:m.A,Tabbed:d.A},async fetch(){this.routeSchema=this.$store.getters["cluster/schemaFor"](b.Rp.SPOOFED.ROUTE),this.receiverSchema=this.$store.getters["cluster/schemaFor"](b.Rp.SPOOFED.RECEIVER);const e=this.$store.dispatch("cluster/findAll",{type:b.Rp.SPOOFED.ROUTE});this.receivers=await this.$store.dispatch("cluster/findAll",{type:b.Rp.SPOOFED.RECEIVER});const t=await(0,f.r6)(this.$store.dispatch),r=(0,f.gb)(t);r?(this.$store.dispatch("type-map/configureType",{match:b.Rp.SPOOFED.ROUTE,isCreatable:!0}),this.routes=await e):(this.$store.dispatch("type-map/configureType",{match:b.Rp.SPOOFED.ROUTE,isCreatable:!1}),this.secretTo={...t.detailLocation},this.secretTo.query={[g.g]:g.G5})},data(){const e=this.$route.query.resource||b.Rp.SPOOFED.RECEIVER;return{routes:[],receivers:[],secretTo:null,routeSchema:null,receiverSchema:null,initTab:e}},computed:{createRoute(){const e=this.$refs?.tabs?.activeTabName||this.routeSchema.id;return{name:"c-cluster-monitoring-route-receiver-create",params:{cluster:this.$route.params.cluster},query:{resource:e}}}}};r(81465);var R=r(66262);const E=(0,R.A)(v,[["render",n],["__scopeId","data-v-706fc849"]]),y=E},81465:(e,t,r)=>{var a=r(89203);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var s=r(99548).A;s("4f46ee63",a,!0,{sourceMap:!1,shadowMode:!1})},89203:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var a=r(31601),s=r.n(a),o=r(76314),c=r.n(o),i=r(5111),l=c()(s());l.i(i.A),l.push([e.id,".header[data-v-706fc849]{display:flex}.header H1[data-v-706fc849]{flex:1}",""]);const n=l}}]);
//# sourceMappingURL=195.3c8f1659.js.map