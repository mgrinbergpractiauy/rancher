(self["webpackChunkcluster_log_extension"]=self["webpackChunkcluster_log_extension"]||[]).push([[9409],{4404:(t,a,l)=>{var e=l(17974);e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.id,e,""]]),e.locals&&(t.exports=e.locals);var i=l(99548).A;i("e093a4ee",e,!0,{sourceMap:!1,shadowMode:!1})},17974:(t,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>u});var e=l(31601),i=l.n(e),n=l(76314),s=l.n(n),o=l(5111),d=s()(i());d.i(o.A),d.push([t.id,".plugin-install-dialog[data-v-57ab0b74]{padding:10px}.plugin-install-dialog h4[data-v-57ab0b74]{font-weight:700}.plugin-install-dialog .dialog-panel[data-v-57ab0b74]{display:flex;flex-direction:column;min-height:100px}.plugin-install-dialog .dialog-panel .dialog-info[data-v-57ab0b74]{flex:1}.plugin-install-dialog .dialog-buttons[data-v-57ab0b74]{display:flex;justify-content:flex-end;margin-top:10px}.plugin-install-dialog .dialog-buttons[data-v-57ab0b74]>:not(:last-child){margin-right:10px}",""]);const u=d},98341:(t,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>y});var e=l(20641),i=l(90033);const n={class:"plugin-install-dialog"},s={class:"mt-10"},o={class:"mt-10 dialog-panel"},d={class:"dialog-info"},u={class:"dialog-buttons"},c=["disabled"];function r(t,a,l,r,g,p){const b=(0,e.g2)("AsyncButton");return(0,e.uX)(),(0,e.CE)("div",n,[(0,e.Lk)("h4",s,(0,i.v_)(t.t("plugins.uninstall.title",{name:`"${l.plugin?.label}"`},!0)),1),a[4]||(a[4]=(0,e.eW)()),(0,e.Lk)("div",o,[(0,e.Lk)("div",d,[(0,e.Lk)("p",null,(0,i.v_)(t.t("plugins.uninstall.prompt")),1)]),a[3]||(a[3]=(0,e.eW)()),(0,e.Lk)("div",u,[(0,e.Lk)("button",{disabled:g.busy,class:"btn role-secondary","data-testid":"uninstall-ext-modal-cancel-btn",onClick:a[0]||(a[0]=t=>p.closeDialog(!1))},(0,i.v_)(t.t("generic.cancel")),9,c),a[2]||(a[2]=(0,e.eW)()),(0,e.bF)(b,{mode:"uninstall",icon:g.busy?"":"icon-delete","data-testid":"uninstall-ext-modal-uninstall-btn",onClick:a[1]||(a[1]=t=>p.uninstall())},null,8,["icon"])])])])}var g=l(66278),p=l(72268),b=l(55823),h=l(62428);const m={emits:["close"],components:{AsyncButton:p.A},props:{plugin:{type:Object,default:()=>{},required:!0},updateStatus:{type:Function,default:()=>{},required:!0},closed:{type:Function,default:()=>{},required:!0},resources:{type:Array,default:()=>[]},registerBackgroundClosing:{type:Function,default:()=>{}}},data(){return{busy:!1}},computed:{...(0,g.L8)({allCharts:"catalog/charts"})},methods:{showDialog(t){this.plugin=t,this.busy=!1},closeDialog(t){this.closed(t),this.$emit("close")},async uninstall(){this.busy=!0;const t=this.plugin;this.updateStatus(t.name,"uninstall"),t.uiplugin?.isDeveloper&&await t.uiplugin.remove();const a=await this.$store.dispatch("management/findAll",{type:b.W8.APP}),l=a.find(a=>a.namespace===h.th&&a.name===t.name);if(l){try{await l.remove()}catch(e){this.$store.dispatch("growl/error",{title:this.t("plugins.error.generic"),message:e.message?e.message:e,timeout:1e4},{root:!0})}await this.$store.dispatch("management/findAll",{type:b.W8.OPERATION})}this.closeDialog(t)}}};l(4404);var f=l(66262);const v=(0,f.A)(m,[["render",r],["__scopeId","data-v-57ab0b74"]]),y=v}}]);
//# sourceMappingURL=dialog64.56c364d1.js.map