(self["webpackChunkcluster_log_extension"]=self["webpackChunkcluster_log_extension"]||[]).push([[4690,9685],{15130:(e,t,a)=>{var s=a(25636);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var l=a(99548).A;l("3f152e58",s,!0,{sourceMap:!1,shadowMode:!1})},25636:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var s=a(31601),l=a.n(s),n=a(76314),i=a.n(n),u=a(5111),o=i()(l());o.i(u.A),o.push([e.id,".key-value[data-v-bd132f66]{width:100%}.key-value .kv-container[data-v-bd132f66]{display:grid;align-items:center;grid-template-columns:1fr 1fr 50px;-moz-column-gap:1.75%;column-gap:1.75%}.key-value .kv-container .kv-item[data-v-bd132f66]{background-color:var(--disabled-bg);border:1px solid var(--border);border-radius:5px;width:100%;margin:10px 0 10px 0;height:40px;line-height:40px;padding:0 10px}.key-value .kv-container .kv-item.link-hidden[data-v-bd132f66]{color:var(--disabled-text)}.key-value .kv-container .kv-item.key[data-v-bd132f66]{align-self:flex-start}",""]);const d=o},44690:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var s=a(20641),l=a(90033);const n={class:"key-value"},i={class:"clearfix"},u={class:"kv-container"},o={class:"text-label"},d={class:"text-label"},r={key:1};function c(e,t,a,c,v,k){const h=(0,s.g2)("Checkbox");return(0,s.uX)(),(0,s.CE)("div",n,[(0,s.Lk)("div",i,[(0,s.Lk)("h3",null,(0,l.v_)(e.t("customLinks.settings.default")),1)]),t[6]||(t[6]=(0,s.eW)()),(0,s.Lk)("div",u,[(0,s.Lk)("label",o,(0,l.v_)(e.t("customLinks.settings.keyLabel")),1),t[2]||(t[2]=(0,s.eW)()),(0,s.Lk)("label",d,(0,l.v_)(e.t("customLinks.settings.valueLabel")),1),t[3]||(t[3]=(0,s.eW)()),t[4]||(t[4]=(0,s.Lk)("label",{class:"text-label"},null,-1)),t[5]||(t[5]=(0,s.eW)()),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.value,(e,a)=>((0,s.uX)(),(0,s.CE)(s.FK,{key:a},[(0,s.Lk)("div",{class:(0,l.C4)(["kv-item key",{"link-hidden":!e.enabled}])},[(0,s.Lk)("span",null,(0,l.v_)(e.label),1)],2),t[0]||(t[0]=(0,s.eW)()),(0,s.Lk)("div",{class:(0,l.C4)(["kv-item value",{"link-hidden":!e.enabled}])},[(0,s.Lk)("span",null,(0,l.v_)(e.value),1)],2),t[1]||(t[1]=(0,s.eW)()),e.readonly||k.isView?((0,s.uX)(),(0,s.CE)("div",r)):((0,s.uX)(),(0,s.CE)("div",{key:a+"show",class:"link-show-hide-checkbox"},[k.isView?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(h,{key:0,value:e.enabled,"onUpdate:value":t=>e.enabled=t,"label-key":"customLinks.settings.showLabel","data-testid":`custom-links__checkbox-${a}`,onInput:t=>k.showhide(e,a,t)},null,8,["value","onUpdate:value","data-testid","onInput"]))]))],64))),128))])])}var v=a(46405),k=a(35800);const h={name:"DefaultLinksEditor",emits:["update:value"],components:{Checkbox:k.S},props:{value:{type:Array,default:()=>[]},mode:{type:String,required:!0}},computed:{isView(){return this.mode===v.nW}},methods:{showhide(e,t,a){const s=this.value[t];s["enabled"]=!!s.enabled,this.$emit("update:value",this.value)}}};a(15130);var p=a(66262);const m=(0,p.A)(h,[["render",c],["__scopeId","data-v-bd132f66"]]),f=m},65349:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var s=a(31601),l=a.n(s),n=a(76314),i=a.n(n),u=a(5111),o=i()(l());o.i(u.A),o.push([e.id,".overlay[data-v-c0807612]{width:100%;height:100%;position:absolute;top:0;left:0;background-color:var(--overlay-bg);z-index:1}.ui-links-setting P[data-v-c0807612]{line-height:1.25;margin-bottom:10px}.ui-links-setting .underline[data-v-c0807612]{text-decoration:underline}.action[data-v-c0807612]{display:flex}.action input[data-v-c0807612]{margin-right:5px}",""]);const d=o},80823:(e,t,a)=>{"use strict";a.d(t,{ag:()=>b,sV:()=>f});var s=a(10874),l=a(55823),n=a(95822),i=a(47170),u=a(68710),o=a(99418),d=a(96763);const r=[{key:"docs",value:s.M0,enabled:!0},{key:"forums",value:"https://forums.suse.com/",enabled:!0},{key:"slack",value:"https://slack.rancher.io/",enabled:!0},{key:"issues",value:"https://github.com/rancher/dashboard/issues/new/choose",enabled:!0},{key:"getStarted",value:`${s.M0}/getting-started/overview`,enabled:!0}],c="suseCollective",v={key:"appCo",value:"https://apps.rancher.io/",enabled:!0},k={key:"commercialSupport",value:"/support",enabled:!0,readonly:!0},h={key:"cnforums",value:"https://forums.rancher.cn/",enabled:!0},p="v1",m="v1.1",f="v1.2";async function b(e,t,a,s){let k={};try{const t=await e.dispatch("management/find",{type:l.Mc.SETTING,id:n.HG.UI_CUSTOM_LINKS});t.value&&(k=JSON.parse(t.value))}catch(b){d.warn("Could not parse custom link settings",b)}if(k?.version?.startsWith(p)){if(k?.version!==p&&k?.version!==m||(k.version=f,k.defaults.includes(v.key)||k.defaults.push(v.key),k.defaults=k.defaults.filter(e=>e!==c)),k.defaults){const e=[...r];(0,u.f$)()&&e.push(v),e.forEach(e=>{const t=k.defaults.find(t=>t===e.key);e.enabled=!!t}),k.defaults=e}return k.custom.forEach(e=>{const t=`<a href="${e.value}"></a>`,a=o.A.sanitize(t);a!==t&&(d.error(`Custom link value "${e.value}" is not valid for link "${e.label}"`),e.value="/#")}),g(k,t,a,s,e)}const h={version:p,defaults:[...r],custom:[]};(0,u.f$)()&&h.defaults.push(v);try{const{uiIssuesSetting:t,uiCommunitySetting:a}=await(0,i.kR)({uiIssuesSetting:e.dispatch("management/find",{type:l.Mc.SETTING,id:n.HG.ISSUES}),uiCommunitySetting:e.dispatch("management/find",{type:l.Mc.SETTING,id:n.HG.COMMUNITY_LINKS})});if("false"===a?.value&&h.defaults.forEach(e=>e.enabled=!1),t?.value){h.custom.push({label:s?s("customLinks.defaults.issues"):"Issues",value:t.value});const e=h.defaults?.find(e=>"issues"===e.key);e&&(e.enabled=!1,e.readOnly=!0)}}catch(b){d.warn("Could not parse legacy link settings",b)}return g(h,t,a,s,e)}function g(e,t,a,s,l){if(!t&&!a){const t=e.defaults?.find(e=>"commercialSupport"===e.key);t||e.defaults.push(k)}const n=l.getters["i18n/selectedLocaleLabel"];n===s("locale.zh-hans")&&e.defaults.push(h),e.defaults=e.defaults.map(e=>({...e,label:s(`'customLinks.defaults.${e.key}`)}));const i=e.custom.reduce((e,t)=>(e[t.label]=t,e),{});return e.defaults.forEach(e=>{i[e.label]&&(e.enabled=!1,e.readonly=!0)}),e}},82066:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>E});var s=a(20641),l=a(90033);const n={key:1},i={class:"mb-20"},u={class:"text-label"},o={class:"mt-20"},d={class:"ui-links-setting mt-20"},r={key:0,class:"mt-20"};function c(e,t,a,c,v,k){const h=(0,s.g2)("Loading"),p=(0,s.g2)("TabTitle"),m=(0,s.g2)("KeyValue"),f=(0,s.g2)("DefaultLinksEditor"),b=(0,s.g2)("Banner"),g=(0,s.g2)("AsyncButton");return e.$fetchState.pending?((0,s.uX)(),(0,s.Wv)(h,{key:0})):((0,s.uX)(),(0,s.CE)("div",n,[(0,s.Lk)("h1",i,[(0,s.bF)(p,null,{default:(0,s.k6)(()=>[(0,s.eW)((0,l.v_)(e.t("customLinks.label")),1)]),_:1})]),t[2]||(t[2]=(0,s.eW)()),(0,s.Lk)("div",null,[(0,s.Lk)("label",u,(0,l.v_)(e.t("customLinks.description",{},!0)),1)]),t[3]||(t[3]=(0,s.eW)()),(0,s.Lk)("div",o,[(0,s.bF)(m,{value:v.value.custom,"onUpdate:value":t[0]||(t[0]=e=>v.value.custom=e),title:"Custom Links","as-map":!1,"key-name":"label","key-label":e.t("customLinks.settings.keyLabel"),"value-label":e.t("customLinks.settings.valueLabel"),"add-label":e.t("customLinks.addLink"),"read-allowed":!1,protip:!1,mode:k.mode},null,8,["value","key-label","value-label","add-label","mode"])]),t[4]||(t[4]=(0,s.eW)()),(0,s.Lk)("div",d,[(0,s.bF)(f,{value:v.value.defaults,"onUpdate:value":t[1]||(t[1]=e=>v.value.defaults=e),mode:k.mode},null,8,["value","mode"])]),t[5]||(t[5]=(0,s.eW)()),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(v.errors,(e,t)=>((0,s.uX)(),(0,s.Wv)(b,{key:t,color:"error",label:e},null,8,["label"]))),128)),t[6]||(t[6]=(0,s.eW)()),"edit"===k.mode?((0,s.uX)(),(0,s.CE)("div",r,[(0,s.bF)(g,{class:"pull-right",mode:"apply",onClick:k.save},null,8,["onClick"])])):(0,s.Q3)("",!0)]))}var v=a(57090),k=a(72268),h=a(59069),p=a(55823),m=a(4365),f=a(95822),b=a(46405),g=a(10225),y=a(66278),L=a(68710),S=a(44690),C=a(80823),x=a(95753);const I={components:{KeyValue:g.A,Loading:v.A,AsyncButton:k.A,Banner:h.A,DefaultLinksEditor:S["default"],TabTitle:x.A},async fetch(){this.value=await(0,C.ag)(this.$store,this.hasSupport,!1,e=>this.t(e))},data(){return{defaultsDisabled:!0,isRancherPrime:(0,L.f$)(),uiCustomLinks:{},bannerVal:{},value:[],errors:[]}},computed:{...(0,y.L8)({multiWithFallback:"i18n/multiWithFallback"}),mode(){const e=this.$store.getters["management/schemaFor"](p.Mc.SETTING);return e?.resourceMethods?.includes("PUT")?b.G5:b.nW},allValues(){return{version:C.sV,defaults:this.value.defaults.filter(e=>e.enabled).map(e=>e.key),custom:this.value.custom}},hasSupport(){return(0,L.f$)()||"true"===this.$store.getters["management/byId"](p.Mc.SETTING,f.HG.SUPPORTED)?.value}},methods:{deprecateIssueLinks(){if(this.uiIssuesSetting.value||this.uiIssuesSetting.value)return this.uiIssuesSetting.value="",this.uiCommunitySetting.value="",this.uiIssuesSetting.save()},async save(e){this.errors=[];try{const t=await(0,m.eB)(this.$store,f.HG.UI_CUSTOM_LINKS,"");t.value=JSON.stringify(this.allValues),await t.save(),this.value=await(0,C.ag)(this.$store,this.hasSupport,!1,e=>this.t(e)),e(!0)}catch(t){this.errors.push(t),e(!1)}}}};a(89931);var _=a(66262);const w=(0,_.A)(I,[["render",c],["__scopeId","data-v-c0807612"]]),E=w},89931:(e,t,a)=>{var s=a(65349);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var l=a(99548).A;l("74af2f09",s,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=9685.16170e4f.js.map