"use strict";(self["webpackChunkcluster_log_extension"]=self["webpackChunkcluster_log_extension"]||[]).push([[4768],{10911:(e,t,s)=>{s.r(t),s.d(t,{default:()=>w});var o=s(20641),n=s(53751),r=s(90033);const a={class:"span-6 offset-3"},l={class:"mb-20"},i={class:"mb-20"},u={class:"row"},p={class:"col span-12 text-center"},c={key:1,class:"text-center"};function d(e,t,s,d,b,m){const h=(0,o.g2)("LabeledInput"),g=(0,o.g2)("AsyncButton");return(0,o.uX)(),(0,o.CE)("form",{onSubmit:t[3]||(t[3]=(0,n.D$)(()=>{},["prevent"]))},[s.open?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.Lk)("div",a,[(0,o.Lk)("div",l,[(0,o.bF)(h,{value:b.username,"onUpdate:value":t[0]||(t[0]=e=>b.username=e),label:e.t("login.username"),autocomplete:"username"},null,8,["value","label"])]),t[4]||(t[4]=(0,o.eW)()),(0,o.Lk)("div",i,[(0,o.bF)(h,{value:b.password,"onUpdate:value":t[1]||(t[1]=e=>b.password=e),type:"password",label:e.t("login.password"),autocomplete:"current-password"},null,8,["value","label"])])]),t[5]||(t[5]=(0,o.eW)()),(0,o.Lk)("div",u,[(0,o.Lk)("div",p,[(0,o.bF)(g,{ref:"btn",type:"submit","action-label":e.t("login.loginWithProvider",{provider:e.displayName}),"waiting-label":e.t("login.loggingIn"),"success-label":e.t("login.loggedIn"),"error-label":e.t("asyncButton.default.error"),class:"btn bg-primary",style:{"font-size":"18px"},onClick:m.login},null,8,["action-label","waiting-label","success-label","error-label","onClick"])])])],64)):((0,o.uX)(),(0,o.CE)("div",c,[(0,o.Lk)("button",{style:{"font-size":"18px"},type:"button",class:"btn bg-primary",onClick:t[2]||(t[2]=t=>e.$emit("showInputs"))},(0,r.v_)(e.t("login.loginWithProvider",{provider:e.displayName})),1)]))],32)}var b=s(16372),m=s(72268),h=s(96423),g=s(51229);const v={emits:["error","showInputs"],components:{LabeledInput:b.o,AsyncButton:m.A},mixins:[h.A],props:{open:{type:Boolean,default:!1}},data(){return{username:"",password:""}},methods:{async login(e){try{this.err=null,await this.$store.dispatch("auth/login",{provider:this.name,body:{username:this.username,password:this.password}}),await(0,g.A)({app:this.$store.app,store:this.$store,$plugin:this.$store.$plugin}),e(!0),this.$router.replace("/")}catch(t){this.err=t,this.$emit("error",t),e(!1)}}}};var y=s(66262);const f=(0,y.A)(v,[["render",d]]),w=f},96423:(e,t,s)=>{s.d(t,{A:()=>o});const o={props:{focusOnMount:{type:Boolean,required:!0},name:{type:String,required:!0}},computed:{displayName(){return this.t(`model.authConfig.provider.${this.name}`)}},mounted(){this.focusOnMount&&this.focus()},methods:{focus(){this.$refs.btn.focus()}}}}}]);
//# sourceMappingURL=login2.c7e26977.js.map